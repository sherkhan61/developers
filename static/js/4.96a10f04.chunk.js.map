{"version":3,"sources":["components/Profile/ProfileContainer.jsx"],"names":["ProfileContainer","userId","this","props","match","params","authorizedUserId","history","push","getProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","isOwner","profile","status","updateStatus","savePhoto","React","Component","compose","connect","state","profilePage","auth","isAuth","saveProfile","withRouter"],"mappings":"0NAOMA,E,+KAGE,IAAIC,EAASC,KAAKC,MAAMC,MAAMC,OAAOJ,OAChCA,IACDA,EAASC,KAAKC,MAAMG,mBAEhBJ,KAAKC,MAAMI,QAAQC,KAAK,UAGhCN,KAAKC,MAAMM,WAAWR,GACtBC,KAAKC,MAAMO,UAAUT,K,0CAIrBC,KAAKS,mB,yCAEUC,EAAWC,EAAWC,GACjCZ,KAAKC,MAAMC,MAAMC,OAAOJ,QAAUW,EAAUR,MAAMC,OAAOJ,QAC7DC,KAAKS,mB,+BAKL,OACI,cAAC,IAAD,2BAAaT,KAAKC,OAAlB,IACSY,SAAYb,KAAKC,MAAMC,MAAMC,OAAOJ,OACpCe,QAASd,KAAKC,MAAMa,QACpBC,OAAQf,KAAKC,MAAMc,OACnBC,aAAchB,KAAKC,MAAMe,aACzBC,UAAWjB,KAAKC,MAAMgB,iB,GA9BZC,IAAMC,WA4CtBC,sBACXC,aAVkB,SAACC,GACnB,MAAQ,CACJR,QAASQ,EAAMC,YAAYT,QAC3BC,OAAQO,EAAMC,YAAYR,OAC1BX,iBAAkBkB,EAAME,KAAKzB,OAC7B0B,OAAQH,EAAME,KAAKC,UAKE,CAAClB,eAAYC,cAAWQ,iBAAcC,cAAWS,kBAC1EC,IAFWP,CAIZtB","file":"static/js/4.96a10f04.chunk.js","sourcesContent":[" import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {getProfile, getStatus, savePhoto, saveProfile, updateStatus} from \"../../Redux/profile-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if(!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        this.props.getProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n        this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     isOwner = {!this.props.match.params.userId}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n                     savePhoto={this.props.savePhoto}/>\r\n        );\r\n    }\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n    return ({\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth\r\n    })\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter,\r\n    //withAuthRedirect //HOC\r\n) (ProfileContainer);\r\n"],"sourceRoot":""}