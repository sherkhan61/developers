{"version":3,"sources":["ui/atoms/preloader/Preloader.tsx","api/social-api.ts","features/news/ui/moleculs/Categories/Categories.module.scss","ui/organisms/Navbar/Navbar.tsx","ui/organisms/Footer/Footer.tsx","ui/assets/images/logo.svg","ui/organisms/Header/Header.tsx","features/authentication/ui/atoms/Logout/Logout.tsx","features/authentication/ui/organisms/UserAutnInfoBar/UserAuthInfoBar.tsx","features/authentication/ui/atoms/SIgnIn.tsx","features/authentication/ui/molecules/Dropdown/Dropdown.tsx","features/authentication/UserAuthInfo.tsx","ui/templates/Common.tsx","features/music/ui/organisms/Player/Player.module.scss","features/users/modules/users/actions.ts","ui/organisms/Paginator/Paginator.module.scss","features/users/modules/users/selectors.ts","features/users/ui/atoms/FollowBtn/FollowBtn.tsx","features/users/ui/organisms/User/User.tsx","ui/organisms/Paginator/Paginator.tsx","features/users/Users.tsx","features/users/ui/moleculs/FriendsBar/FriendsBar.tsx","features/users/Friends.tsx","features/users/ui/moleculs/UsersSearch/UsersSearch.tsx","features/users/Search.tsx","ui/atoms/preloader/Preloader.module.scss","features/music/ui/organisms/Tracks/Tracks.module.scss","features/news/ui/moleculs/Search/Search.module.scss","features/users/ui/organisms/User/User.module.scss","features/users/ui/moleculs/FriendsBar/FriendsBar.module.scss","ui/organisms/Navbar/Navbar.module.scss","features/news/ui/moleculs/Article/Article.module.scss","features/authentication/modules/authorization/actions.ts","features/music/Music.module.scss","features/authentication/ui/organisms/UserAutnInfoBar/UserAuthInfoBar.module.scss","ui/organisms/Header/Header.module.scss","features/authentication/ui/organisms/LoginForm/LoginForm.module.scss","ui/assets/images/avatar-undefined.jpg","features/authentication/ui/molecules/Dropdown/Dropdown.module.scss","features/news/News.module.scss","ui/templates/Common.module.scss","features/users/Users.module.scss","features/users/ui/atoms/FollowBtn/Followbtn.module.scss","ui/organisms/Footer/Footer.module.scss","features/music/ui/templates/card/Card.module.scss","features/music/ui/templates/cards/Cards.module.scss","features/users/ui/moleculs/UsersSearch/UsersSearch.module.scss","features/authentication/ui/atoms/Logout/Logout.module.scss","features/authentication/ui/atoms/SignIn.module.scss","features/music/ui/organisms/Search/Search.module.scss","ui/atoms/Arrow/Arrow.module.scss","features/dialogs/Dialogs.tsx","pages/dialogs/index.tsx","pages/users/index.tsx","pages/friends/index.tsx","pages/search/index.tsx","features/authentication/ui/organisms/LoginForm/LoginForm.tsx","features/authentication/Login.tsx","pages/login/index.tsx","api/music-api.ts","features/music/modules/music/actions.ts","features/music/modules/player/reducer.ts","features/music/modules/player/actions.ts","features/music/utils/index.ts","features/music/ui/organisms/Player/Player.tsx","features/music/ui/organisms/Tracks/Tracks.tsx","features/music/ui/templates/card/Card.tsx","features/music/ui/templates/cards/Cards.tsx","features/music/ui/moleculs/Artists.tsx","features/music/ui/moleculs/Albums.tsx","features/music/ui/moleculs/Podcasts.tsx","features/music/ui/moleculs/Playlists.tsx","features/music/ui/organisms/Chart.tsx","features/music/ui/organisms/Search/Search.tsx","ui/atoms/Arrow/Arrow.tsx","features/music/ui/organisms/SearchResults.tsx","features/music/Music.tsx","pages/music/index.tsx","api/news-api.ts","features/news/modules/news/actions.ts","features/news/ui/assets/categories/news.jpg","features/news/ui/moleculs/Article/Article.tsx","features/news/ui/Organisms/Articles.tsx","features/news/ui/moleculs/Categories/Categories.tsx","features/news/ui/moleculs/Search/Search.tsx","features/news/News.tsx","pages/news/index.tsx","Routes.tsx","features/authentication/modules/initialization/actions.ts","App.tsx","features/authentication/modules/authorization/reducer.ts","features/authentication/modules/initialization/reducer.ts","features/profile/modules/profile/reducer.ts","utils/obj-helpers.ts","features/users/modules/users/reducer.ts","features/music/modules/music/reducer.ts","features/news/modules/news/reducer.ts","lib/store/root-reducer.ts","lib/store/store.ts","index.tsx"],"names":["Preloader","className","classes","cssload_loader","cssload_inner","cssload_one","cssload_two","cssload_three","instance","axios","create","withCredentials","baseURL","headers","authAPI","me","get","then","res","data","login","email","password","rememberMe","captcha","post","logout","delete","profileAPI","getProfile","userId","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","response","resultCode","saveProfile","profile","securityAPI","getCaptchaUrl","usersAPI","getUsers","pageSize","currentPage","isFriend","term","follow","unfollow","isFollowed","module","exports","Navbar","children","clearPage","clearMusicSearch","isMobile","document","documentElement","clientWidth","styles","container","to","activeClassName","active","onClick","Footer","footer","footer_content","Header","header","header_content","logo_wrapper","header_logo","alt","src","logo","Logout","dispatch","useDispatch","aria-hidden","UserAuthInfoBar","React","forwardRef","ref","onDropdown","useSelector","state","userName","auth","user","fullName","userPhoto","photos","small","shallowEqual","userInfo","userInfo_name","userInfo_photo","SignIn","sign_in","login_link","Dropdown","isVisible","match","useRouteMatch","dropdown","UserAuthInfo","useState","isDropped","setDropdown","isAuth","userInfoRef","useRef","dropRef","onCloseDropDown","useCallback","e","target","closest","dropClass","current","style","background","opacity","visibility","removeEventListener","addEventListener","CommonTemplate","usersActions","setCurrentPage","app_wrapper","content_wrapper","app_content","followSuccess","type","unfollowSuccess","setUsers","users","setFriends","friends","setTotalUsersCount","totalUsersCount","count","toggleIsFetching","isFetching","toggleIsFollowingProgress","a","items","totalCount","followUnfollowFlow","apiMethod","actionCreator","followThunk","bind","unfollowThunk","search","getState","usersPage","friendsPortion","usersPortion","allUsers","length","getFriendsDemo","getUsersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","followingInProgress","FollowBtn","followed","isFollowing","id","followBtn","disabled","some","item","onUnFollow","onFollow","User","photo","trim","substr","user_info","user_photo","ava_undefined","user_info_status","btn_container","sendMsg_btn","Paginator","portionSize","onPageChanged","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","currentPages","filter","p","map","pageNumber","selectedPage","onPortionNumber","k","paginator_wrapper","paginator","icon","left","arrow","isEmpty","arr","key","Users","path","useLocation","pathname","isFriends","searchTerm","useParams","usersList","useEffect","startsWith","name","users_notFound","FriendsBar","friendsElements","friend","friendPhoto","avatar_undefined","friendName","friendsBar","friendInfo","Friends","UsersSearch","onSearch","onChange","usersSearch","autoComplete","onKeyDown","placeholder","value","Search","history","useHistory","setSearchTerm","actions","captchaUrl","getAuth","authUserProfile","error","messages","url","undefined","Dialogs","DialogsPage","Common","UsersPage","FriendsPage","SearchPage","LoginForm","useForm","register","errors","handleSubmit","onSubmit","required","span_error","htmlFor","Login","LoginPage","musicApi","catch","err","console","log","query","musicActions","charts","searchResults","initialState","currentAlbum","bgPhoto","currentNumber","currentSrc","progress","volume","duration","currentSecond","hintTime","isPlaying","artist","title","playerReducer","action","payload","Error","playerActions","converter","minutes","floor","seconds","String","calculateProgress","mouseX","progressElement","barWidth","getBoundingClientRect","right","abs","Player","initPlayer","trackRef","hintRef","onForward","nextTrackNumber","nextTrack","querySelector","dataset","url_track","album_photo","bg_photo","artist_name","track_title","player","onTimeUpdate","isNaN","currentTime","ended","onLoadedData","preload","data-track_number","play_block","pause","play","arrows","prevTrackNumber","prevTrack","progress_bar","title_info","progress_wrapper","percent","pageX","currentTarget","max","onMouseMove","clientX","result","hidden","onMouseLeave","hint","Tracks","tracks","useReducer","album","cover_small","preview","picture_xl","track_number","onPlay","paused","playPromise","tracksElements","track","index","playing","track_album_playing","track_container","data-url_track","data-album_photo","data-bg_photo","data-track_title","data-artist_name","track_album","href","link","track_title_duration","music_tracks","category_header","Card","artistName","picture","font_size","card","card_name","Cards","cards_header","cards","Artists","artists","artistsElements","picture_big","Albums","albums","albumsElements","cover_big","Podcasts","podcasts","podcastsElements","podcast","pictureLink","podcast_description","description","Playlists","playlists","playlistsElements","playlist","Chart","music","Arrow","back","SearchResults","Music","music_wrapper","MusicPage","newsApi","country","category","articles","newsActions","getNews","params","Article","urlToImage","content","author","source","publishedAt","news_article","backgroundImage","mockImg","news_article_title","news_article_description","news_article_content","news_article_author","news_article_src","Articles","news","articleElements","Categories","event","classList","contains","categories_category","cat","categories","data-cat","all","business","entertaiment","science","sport","technology","cover","preventDefault","search_query","search_block","search_btn","News","news_wrapper","NewsPage","ProfilePage","lazy","default","Routes","fallback","exact","from","render","initActions","connector","connect","initialized","init","initializeApp","this","props","Component","aboutMe","contacts","lookingForAJob","lookingForAJobDescription","profileReducer","updateObjectInArray","itemId","newItemObjProps","usersReducer","rootReducer","combineReducers","profilePage","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.eea82082.chunk.js","sourcesContent":["import React, {FC} from 'react'\r\nimport classes from './Preloader.module.scss'\r\n\r\n\r\nexport const Preloader: FC = () => {\r\n    return (\r\n        <div className={classes.cssload_loader}>\r\n            <div className={`${classes.cssload_inner} ${classes.cssload_one} `}></div>\r\n            <div className={`${classes.cssload_inner} ${classes.cssload_two} `}></div>\r\n            <div className={`${classes.cssload_inner} ${classes.cssload_three} `}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import axios, {AxiosResponse} from 'axios'\r\n\r\n\r\n\r\n\r\nexport type APIResponseType<T = {}> = {\r\n    resultCode: number,\r\n    messages: Array<any> | string,\r\n    data: T\r\n}\r\n\r\n\r\nexport type LoginInfoType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha?: string\r\n    logError?: string\r\n};\r\n\r\nexport type ProfileType = {\r\n    userId?: null | number\r\n    lookingForAJob?: null | boolean\r\n    lookingForAJobDescription?: null | string\r\n    fullName?: null | string\r\n    contacts?: null | ContactsType\r\n    photos?: null | PhotosType\r\n    aboutMe?: null | string\r\n}\r\nexport type ContactsType = {\r\n    github: string\r\n    vk: string\r\n    facebook: string\r\n    instagram: string\r\n    twitter: string\r\n    website: string\r\n    youtube: string\r\n    mainLink: string\r\n}\r\nexport type PhotosType = {\r\n    small: string | null\r\n    large: string | null\r\n}\r\nexport type UserType = {\r\n    id: number\r\n    name: string\r\n    status: null | string\r\n    photos: PhotosType\r\n    followed: boolean\r\n}\r\n\r\n\r\nexport type GetsItemsType = {\r\n    items: Array<UserType>\r\n    totalCount?: number\r\n    error?: string | null\r\n}\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '11f6f6da-a19a-4694-bc7f-68eb9e84e954'\r\n    }\r\n})\r\n\r\n\r\n\r\n\r\n\r\ntype MeResponseDataType = {\r\n    id: number, email: string, login: string\r\n}\r\ntype LoginResponseDataType = {\r\n    userId: number\r\n}\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<APIResponseType<MeResponseDataType>>(`auth/me`).then(res => res.data)\r\n    },\r\n    login(email: string, password: string, rememberMe = false, captcha: null | string = null) {\r\n        return instance.post<APIResponseType<LoginResponseDataType>>(`auth/login`, {email, password, rememberMe, captcha})\r\n            .then(res => res.data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n\r\n}\r\n\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get<ProfileType>(`profile/` + userId).then(res => res.data)\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get<string>('profile/status/' + userId).then(res => res.data)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<APIResponseType>('profile/status', {status: status}).then(res => res.data)\r\n    },\r\n    savePhoto(photoFile: File): Promise<APIResponseType<{photos:PhotosType}> | never> {\r\n        const formData = new FormData();\r\n        formData.append(\"newPhoto\", photoFile);\r\n        return instance.put('/profile/photo', formData)\r\n            .then((response) => {\r\n                if (response.data.resultCode === 0) {\r\n                    return response.data;\r\n                }\r\n            });\r\n    },\r\n    saveProfile(profile: ProfileType): Promise<AxiosResponse<APIResponseType>> {\r\n        return instance.put('/profile/', profile).then((response) => {\r\n            return response;\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\ntype GetCaptchaUrlResponseType = {\r\n    url: string\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get<GetCaptchaUrlResponseType>(`security/get-captcha-url`).then(res => res.data)\r\n    }\r\n}\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(pageSize: number, currentPage: number,\r\n             isFriend: boolean, term: string = \"\"): Promise<GetsItemsType> {\r\n        return instance.get(`users?count=${pageSize}&page=${currentPage}&friend=${isFriend}&term=${term}`)\r\n            .then((response) => response.data)\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post<APIResponseType>(`follow/${userId}`).then(res => res.data)\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete(`follow/${userId}`).then(res => res.data) as Promise<APIResponseType>\r\n    },\r\n    isFollowed(userId: number) {\r\n        return instance.get(`follow/${userId}`).then(res => res.data) as Promise<boolean>;\r\n    }\r\n}\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"categories\":\"Categories_categories__1nMYq\",\"categories_category\":\"Categories_categories_category__ACD4Z\",\"business\":\"Categories_business__3I7VV\",\"entertaiment\":\"Categories_entertaiment__3uSqG\",\"science\":\"Categories_science__11XYs\",\"sport\":\"Categories_sport__tNIbV\",\"technology\":\"Categories_technology__3VeDQ\",\"all\":\"Categories_all__2Nsv_\"};","import React, {FC} from 'react'\r\nimport styles from './Navbar.module.scss'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {ICommonTemplateProps} from '../../templates/Common'\r\n\r\n\r\ninterface PropsType extends ICommonTemplateProps {\r\n    clearPage: () => void\r\n}\r\n\r\nexport const Navbar: FC<PropsType> = ({children, clearPage, clearMusicSearch}) => {\r\n\r\n    const isMobile: boolean = document.documentElement.clientWidth <= 860\r\n\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <nav>\r\n                <ul className={styles['mcd-menu']}>\r\n\r\n                    <li>\r\n                        <NavLink to=\"/profile\" activeClassName={styles.active}>\r\n                            <i className=\"fa fa-home\"/>\r\n                            <strong>Profile</strong>\r\n                            <small>your story</small>\r\n                        </NavLink>\r\n                    </li>\r\n                    <li onClick={clearPage}>\r\n                        <NavLink to={isMobile ?\r\n                            '/friends' :\r\n                            '/users'} activeClassName={styles.active}>\r\n                            <i className=\"fa fa-users\"/>\r\n                            <strong>Users</strong>\r\n                            <small>our developers</small>\r\n                        </NavLink>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <NavLink to=\"/news\" activeClassName={styles.active}>\r\n                            <i className=\"fa fa-globe\"/>\r\n                            <strong>News</strong>\r\n                            <small>breaking news</small>\r\n                        </NavLink>\r\n                    </li>\r\n\r\n\r\n                    <li>\r\n                        <NavLink to=\"/music\" activeClassName={styles.active}\r\n                                 onClick={clearMusicSearch}>\r\n                            <i className=\"fa fa-music\"/>\r\n                            <strong>Music</strong>\r\n                            <small>deezer chart</small>\r\n                        </NavLink>\r\n                    </li>\r\n\r\n\r\n                </ul>\r\n            </nav>\r\n            {children}\r\n        </div>\r\n    )\r\n}\r\n\r\n","import classes from \"./Footer.module.scss\"\r\nimport React, {FC} from \"react\";\r\n\r\n\r\nexport const Footer: FC = () => {\r\n  return (\r\n      <footer className={classes.footer}>\r\n        <p className={classes.footer_content}>Sherkhan Tulkibay Â© 2021.\r\n          All\r\n          rights are not reserved\r\n        </p>\r\n      </footer>\r\n  )\r\n};","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, {FC, ReactNode} from 'react';\r\nimport classes from './Header.module.scss'\r\nimport logo from \"../../../ui/assets/images/logo.svg\"\r\n\r\ninterface IHeaderProps {\r\n  children: Array<ReactNode>\r\n}\r\n\r\nexport const Header: FC<IHeaderProps> = ({children}) => {\r\n\r\n  return (\r\n      <header className={classes.header}>\r\n        <div className={classes.header_content}>\r\n          <div className={classes.logo_wrapper}>\r\n            <img className={classes.header_logo} alt=\"logo\"\r\n                src={logo}/>\r\n            {children[0]}\r\n          </div>\r\n          {children[1]}\r\n        </div>\r\n      </header>\r\n\r\n  );\r\n};","import React, {FC} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport styles from \"./Logout.module.scss\"\r\nimport {logout} from '../../../modules/authorization/actions'\r\n\r\ninterface ILogoutProps {\r\n  isMobile: boolean\r\n}\r\n\r\nexport const Logout: FC<ILogoutProps> = ({isMobile}) => {\r\n\r\n  const dispatch = useDispatch();\r\n  const onLogout = () => dispatch(logout());\r\n\r\n  return <li className={(isMobile ? \"\" : styles.logout)}\r\n      onClick={onLogout}>\r\n    <i className=\"fa fa-sign-out\" aria-hidden=\"true\"/>Logout</li>\r\n};","import classes from \"./UserAuthInfoBar.module.scss\";\r\nimport React, {ReactNode} from \"react\";\r\nimport {shallowEqual, useSelector} from \"react-redux\";\r\nimport {RootState} from '../../../../../lib/store/root-reducer'\r\nimport {Logout} from '../../atoms/Logout/Logout'\r\n\r\ninterface IUserAuthInfoBarProps {\r\n  onDropdown: () => void\r\n  children: ReactNode\r\n}\r\n\r\nexport const UserAuthInfoBar = React.forwardRef<HTMLDivElement, IUserAuthInfoBarProps>\r\n(({onDropdown, children}, ref) => {\r\n\r\n  const {userName, userPhoto} = useSelector((state: RootState) => (\r\n      {\r\n        userName: state.auth.user.fullName,\r\n        userPhoto: state.auth.user.photos?.small\r\n      }\r\n  ), shallowEqual);\r\n\r\n  const isMobile: boolean = document.documentElement.clientWidth <= 480;\r\n\r\n  return <>\r\n    {!isMobile ?\r\n        <div ref={ref} className={classes.userInfo}\r\n            onClick={onDropdown}>\r\n        <span\r\n            className={classes.userInfo_name}>{userName}</span>\r\n          <div className={classes.userInfo_photo}>\r\n            <img alt=\"user_photo\"\r\n                src={userPhoto as string}/>\r\n          </div>\r\n          {children}\r\n        </div> :\r\n        <Logout isMobile={isMobile}/>}\r\n  </>\r\n});","import React, {FC} from \"react\";\r\nimport styles from \"./SignIn.module.scss\"\r\nimport classes\r\n  from \"../organisms/UserAutnInfoBar/UserAuthInfoBar.module.scss\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nexport const SignIn:FC = () => {\r\n  return (\r\n    <div className={styles.sign_in}>\r\n\r\n      <NavLink className={classes.login_link}\r\n        to={\"/login\"}>Login</NavLink>\r\n      <i className=\"fa fa-sign-in\"\r\n        aria-hidden=\"true\"/>\r\n    </div>\r\n  )\r\n};","import classes from \"./Dropdown.module.scss\";\r\nimport React from \"react\";\r\nimport {Link, useRouteMatch} from \"react-router-dom\";\r\nimport {Logout} from '../../atoms/Logout/Logout'\r\n\r\ninterface IDropdownProps {\r\n  isVisible: boolean\r\n}\r\n\r\nexport const Dropdown = React.forwardRef<HTMLUListElement, IDropdownProps>(({isVisible}, ref) => {\r\n\r\n  const isMobile: boolean = document.documentElement.clientWidth <= 860;\r\n  const match = useRouteMatch(\"/profile\");\r\n\r\n  return (\r\n      <ul ref={ref} className={classes.dropdown}>\r\n        {match ? null :\r\n            <li>\r\n              <Link to={\"/profile\"}>\r\n                My profile\r\n              </Link>\r\n            </li>}\r\n        <Logout isMobile={isMobile}/>\r\n      </ul>\r\n  )\r\n});","import React, {FC, useCallback, useRef, useState} from 'react'\r\nimport dropClass from './ui/molecules/Dropdown/Dropdown.module.scss'\r\nimport {useSelector} from 'react-redux'\r\nimport {RootState} from '../../lib/store/root-reducer'\r\nimport {UserAuthInfoBar} from './ui/organisms/UserAutnInfoBar/UserAuthInfoBar'\r\nimport {SignIn} from './ui/atoms/SIgnIn'\r\nimport {Dropdown} from './ui/molecules/Dropdown/Dropdown'\r\n\r\n\r\nexport const UserAuthInfo: FC = () => {\r\n\r\n\r\n    const [isDropped, setDropdown] = useState<boolean>(false)\r\n\r\n    const isAuth = useSelector((state: RootState) => state.auth.isAuth)\r\n    const userInfoRef = useRef<HTMLDivElement>(null)\r\n    const dropRef = useRef<HTMLUListElement>(null)\r\n\r\n    const onDropdown = () => {\r\n        userInfoRef.current!.style.background = '#1e1e1e'\r\n        dropRef.current!.style.visibility = 'visible'\r\n        dropRef.current!.style.opacity = '0.9'\r\n        document.addEventListener('click', onCloseDropDown)\r\n    }\r\n\r\n\r\n    const onCloseDropDown: EventListener = useCallback((e: Event): void => {\r\n        let target = e.target as HTMLDivElement\r\n        if (!target.closest('.' + dropClass.dropdown)) {\r\n            setDropdown(false)\r\n            userInfoRef.current!.style.background = ''\r\n            dropRef.current!.style.opacity = '0'\r\n            dropRef.current!.style.visibility = 'hidden'\r\n            document.removeEventListener('click', onCloseDropDown)\r\n        } else {\r\n            document.removeEventListener('click', onCloseDropDown)\r\n        }\r\n    }, [])\r\n\r\n\r\n    return (<>\r\n        {isAuth ?\r\n            <UserAuthInfoBar ref={userInfoRef} onDropdown={onDropdown}>\r\n                <Dropdown isVisible={isDropped} ref={dropRef}/>\r\n            </UserAuthInfoBar> :\r\n            <SignIn/>}\r\n    </>)\r\n}","import React, {FC} from 'react'\r\nimport classes from './Common.module.scss'\r\nimport {useDispatch} from 'react-redux'\r\nimport {usersActions} from '../../features/users/modules/users/actions'\r\nimport {Friends, Search} from '../../features/users'\r\nimport {Navbar} from '../organisms/Navbar/Navbar'\r\nimport {Footer} from '../organisms/Footer/Footer'\r\nimport {Header} from '../organisms/Header/Header'\r\nimport {UserAuthInfo} from '../../features/authentication/UserAuthInfo'\r\n\r\n\r\nexport type ICommonTemplateProps = {\r\n    clearMusicSearch?: () => void\r\n}\r\n\r\nexport const CommonTemplate: FC<ICommonTemplateProps> = ({children, clearMusicSearch}) => {\r\n    const dispatch = useDispatch()\r\n    const clearPage = (): void => {\r\n        dispatch(usersActions.setCurrentPage(1))\r\n    }\r\n    return (\r\n        <>\r\n            <Header>\r\n                <Search/>\r\n                <UserAuthInfo/>\r\n            </Header>\r\n            <div className={classes.app_wrapper}>\r\n                <div className={classes.content_wrapper}>\r\n                    <Navbar clearPage={clearPage}\r\n                            clearMusicSearch={clearMusicSearch}>\r\n                        <Friends clearPage={clearPage}/>\r\n                    </Navbar>\r\n                    <main className={classes.app_content}>\r\n                        {children}\r\n                    </main>\r\n                </div>\r\n                <Footer/>\r\n            </div>\r\n        </>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"Player_player__3vCQV\",\"arrows\":\"Player_arrows__335iS\",\"play_block\":\"Player_play_block__54stx\",\"play\":\"Player_play__APZLH\",\"pause\":\"Player_pause__2v2mb\",\"progress_bar\":\"Player_progress_bar__3qnfU\",\"title_info\":\"Player_title_info__31Ika\",\"hint\":\"Player_hint__2Edrn\",\"volume\":\"Player_volume__1qBql\"};","import {Dispatch} from 'redux'\r\nimport {APIResponseType, usersAPI, UserType} from '../../../../api/social-api'\r\nimport {ActionsTypes, ThunkType} from './reducer'\r\n\r\n\r\n// ==========Action Creators======================\r\n\r\nexport const usersActions = {\r\n    followSuccess: (userId: number) => ({type: 'SN/USERS/FOLLOW', userId} as const),\r\n    unfollowSuccess: (userId: number) => ({type: 'SN/USERS/UNFOLLOW', userId} as const),\r\n    setUsers: (users: Array<UserType>) => ({type: 'SN/USERS/SET_USERS', users} as const),\r\n    setFriends: (friends: Array<UserType>) => ({type: 'SN/USERS/SET_FRIENDS', friends} as const),\r\n    setCurrentPage: (currentPage: number) => ({\r\n        type: 'SN/USERS/SET_CURRENT_PAGE',\r\n        currentPage\r\n    } as const),\r\n    setTotalUsersCount: (totalUsersCount: number) => ({\r\n        type: 'SN/USERS/SET_TOTAL_USERS_COUNT',\r\n        count: totalUsersCount\r\n    } as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({\r\n        type: 'SN/USERS/TOGGLE_IS_FETCHING',\r\n        isFetching\r\n    } as const),\r\n    toggleIsFollowingProgress: (isFetching: boolean, userId: number) => ({\r\n        type: 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS',\r\n        isFetching,\r\n        userId\r\n    } as const),\r\n}\r\n\r\n\r\n// =====================Thunk Creators====================\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number, isFriend: boolean = false, term?: string): ThunkType => {\r\n    return async (dispatch) => {\r\n        dispatch(usersActions.toggleIsFetching(true))\r\n        dispatch(usersActions.setCurrentPage(currentPage))\r\n\r\n        let data = await usersAPI.getUsers(currentPage, pageSize, isFriend, term)\r\n        dispatch(usersActions.toggleIsFetching(false))\r\n        dispatch(usersActions.setUsers(data.items))\r\n        dispatch(usersActions.setTotalUsersCount(data.totalCount!))\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: Dispatch<ActionsTypes>,\r\n                                  userId: number,\r\n                                  apiMethod: (userId: number) => Promise<APIResponseType>,\r\n                                  actionCreator: (userId: number) => ActionsTypes) => {\r\n    dispatch(usersActions.toggleIsFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(usersActions.toggleIsFollowingProgress(false, userId))\r\n}\r\n\r\nexport const followThunk = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), usersActions.followSuccess)\r\n    }\r\n}\r\n\r\nexport const unfollowThunk = (userId: number): ThunkType => {\r\n    return async (dispatch) => {\r\n        await followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), usersActions.unfollowSuccess)\r\n    }\r\n}\r\n\r\nexport const search = (term: string): ThunkType => {\r\n    return async (dispatch, getState) => {\r\n        dispatch(usersActions.toggleIsFetching(true));\r\n        const friendsPortion = await usersAPI.getUsers(getState().usersPage.pageSize,\r\n            getState().usersPage.currentPage / 2,\r\n            true,\r\n            term);\r\n        const usersPortion = await usersAPI.getUsers(getState().usersPage.pageSize,\r\n            getState().usersPage.currentPage / 2,\r\n            false,\r\n            term);\r\n        const allUsers = [...friendsPortion.items, ...usersPortion.items];\r\n        dispatch(usersActions.setUsers(allUsers));\r\n        dispatch(usersActions.setTotalUsersCount(allUsers.length));\r\n        dispatch(usersActions.toggleIsFetching(false));\r\n    };\r\n}\r\n\r\nexport const getFriendsDemo = (pageSize: number,\r\n                               currentPage: number,\r\n                               isFriend: boolean = true): ThunkType => {\r\n    return async (dispatch) => {\r\n        let data = await usersAPI.getUsers(pageSize, currentPage, isFriend)\r\n            dispatch(usersActions.setFriends(data.items));\r\n    }\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator_wrapper\":\"Paginator_paginator_wrapper__3n-gQ\",\"paginator\":\"Paginator_paginator__1kcEK\",\"pageNumber\":\"Paginator_pageNumber__2tS1b\",\"selectedPage\":\"Paginator_selectedPage__2BPuB\",\"icon\":\"Paginator_icon__FWlwL\",\"arrow\":\"Paginator_arrow__1rxH3\",\"left\":\"Paginator_left__3UDzl\"};","import {RootState} from '../../../../lib/store/root-reducer'\r\n\r\n\r\nexport const getUsersPage = (state: RootState) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getPageSize = (state: RootState) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: RootState) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: RootState) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: RootState) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state: RootState) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import React, {FC} from 'react'\r\nimport classes from './Followbtn.module.scss'\r\nimport {useDispatch} from 'react-redux'\r\nimport {followThunk, unfollowThunk} from '../../../modules/users/actions'\r\n\r\ninterface IFollowBtnProps {\r\n  followed: boolean\r\n  isFollowing: Array<number>\r\n  id: number\r\n}\r\n\r\nexport const FollowBtn: FC<IFollowBtnProps> = ({followed, isFollowing, id}) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const onFollow = (id: number) => {\r\n    dispatch(followThunk(id));\r\n  };\r\n\r\n  const onUnFollow = (id: number) => {\r\n    dispatch(unfollowThunk(id));\r\n  };\r\n  return (\r\n      followed ? (\r\n          <button className={classes.followBtn}\r\n              disabled={isFollowing.some((item) => item === id)}\r\n              onClick={() => {\r\n                onUnFollow(id);\r\n              }}>\r\n            Unfollow\r\n          </button>\r\n      ) : (\r\n          <button className={classes.followBtn}\r\n              disabled={isFollowing.some((item) => item === id)}\r\n              onClick={() => {\r\n                onFollow(id);\r\n              }}>\r\n            Follow\r\n          </button>\r\n      )\r\n  )\r\n};","import React, {FC} from \"react\";\r\nimport {Link, NavLink} from \"react-router-dom\";\r\nimport classes from \"./User.module.scss\"\r\nimport ava_undefined from \"../../../../../ui/assets/images/avatar-undefined.jpg\"\r\nimport {FollowBtn} from '../../atoms/FollowBtn/FollowBtn'\r\n\r\ninterface IUserProps {\r\n  isAuth: boolean\r\n  photo: string | null\r\n  status: string | null\r\n  id: number\r\n  followed: boolean\r\n  fullName: string\r\n  isFollowing: Array<number>\r\n}\r\n\r\nexport const User:FC<IUserProps> = ({\r\nstatus, isAuth, id, photo, fullName, followed, isFollowing }) => {\r\n\r\n  if (status && status.length > 30) {\r\n    status = status.trim().substr(0, 30) + \". . .\";\r\n  }\r\n  return (\r\n      <div className={classes.user} key={id}>\r\n\r\n        <div className={classes.user_info}>\r\n          <div className={classes.user_photo}>\r\n            <NavLink to={`/profile/${id}`}>\r\n              <img src={photo || ava_undefined}\r\n                  alt=\"avatar\"/>\r\n            </NavLink>\r\n          </div>\r\n\r\n          <div><p>{fullName}</p>\r\n            <p className={classes.user_info_status}>{status}</p></div>\r\n        </div>\r\n        <div className={classes.btn_container}>\r\n          {isAuth ?\r\n              <>\r\n                <FollowBtn followed={followed}\r\n                    isFollowing={isFollowing}\r\n                    id={id}\r\n                /><Link to={`/dialogs/${id}`}>\r\n                <button className={classes.sendMsg_btn}>Send Message\r\n                </button>\r\n              </Link> </> :\r\n              \"\"}\r\n        </div>\r\n      </div>\r\n  );\r\n\r\n};\r\n\r\n\r\n","import React, {FC, ReactNode, useState} from \"react\";\r\nimport classes from \"./Paginator.module.scss\"\r\n\r\ntype PropsType = {\r\n  portionSize?: number\r\n  totalUsersCount: number\r\n  pageSize: number\r\n  currentPage: number\r\n  onPageChanged: (p: number)=> void\r\n}\r\n\r\nexport const Paginator: FC<PropsType> = ({\r\n                                             portionSize = 10,\r\n                                             totalUsersCount,\r\n                                             pageSize,\r\n                                             currentPage,\r\n                                             onPageChanged }) => {\r\n\r\n    const isMobile: boolean = document.documentElement.clientWidth <= 480;\r\n\r\n    if (isMobile) portionSize = 5;\r\n\r\n    const pagesCount: number = Math.ceil(totalUsersCount / pageSize);\r\n\r\n    let pages: Array<number> = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const portionCount: number = Math.ceil(pagesCount / portionSize);\r\n\r\n    const [portionNumber, setPortionNumber] = useState<number>(Math.ceil(\r\n        currentPage / portionSize));\r\n\r\n    const leftPortionPageNumber: number = (\r\n        portionNumber - 1\r\n    ) * portionSize + 1;\r\n\r\n    const rightPortionPageNumber: number = portionNumber * portionSize;\r\n\r\n    const currentPages: Array<ReactNode> = pages\r\n        .filter(\r\n            p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map((p) => {\r\n            return <span\r\n                className={p === currentPage ?\r\n                    `${classes.pageNumber} ${classes.selectedPage}` :\r\n                    classes.pageNumber}\r\n                key={p}\r\n                onClick={() => {\r\n                    onPageChanged(p);\r\n                }}>{p}</span>\r\n        });\r\n\r\n    const onPortionNumber = (e: React.MouseEvent<HTMLDivElement>, k: number) => {\r\n        setPortionNumber(portionNumber + k);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className={classes.paginator_wrapper}>\r\n\r\n            <div className={classes.paginator}>\r\n                {portionNumber > 1 &&\r\n                <div\r\n                    onClick={(e: React.MouseEvent<HTMLDivElement>) => onPortionNumber(e, -1)}\r\n                    className={`${classes.icon} ${classes.left}`}>\r\n                    <div className={classes.arrow}/>\r\n                </div>}\r\n                {currentPages}\r\n                {portionCount > portionNumber &&\r\n                <div onClick={(e) => onPortionNumber(e, +1)}\r\n                     className={classes.icon}>\r\n                    <div className={classes.arrow}/>\r\n                </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n};","import React, {FC, useEffect} from 'react'\r\nimport {shallowEqual, useDispatch, useSelector} from 'react-redux'\r\nimport classes from './Users.module.scss'\r\nimport {useLocation, useParams} from 'react-router'\r\nimport {RootState} from '../../lib/store/root-reducer'\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersPage\r\n} from './modules/users/selectors'\r\nimport {getUsers, search, usersActions} from './modules/users/actions'\r\nimport {User} from './ui/organisms/User/User'\r\nimport {Paginator} from '../../ui/organisms/Paginator/Paginator'\r\nimport {Preloader} from '../../ui/atoms/preloader/Preloader'\r\n\r\n\r\nlet isEmpty = (arr: Array<any>) => {\r\n  for (let key in arr) {\r\n\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\ntype IUsersParams = {\r\n  term: string\r\n}\r\n\r\nexport const Users: FC = () => {\r\n\r\n  const path = useLocation().pathname;\r\n  const isFriends = path === \"/friends\";\r\n  const searchTerm = useParams<IUsersParams>().term;\r\n  const {\r\n    users: usersList, pageSize, totalUsersCount, currentPage, isFetching, isFollowing, isAuth\r\n  } = useSelector((state: RootState) => (\r\n      {\r\n        users: getUsersPage(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        isFollowing: getFollowingInProgress(state),\r\n        isAuth: state.auth.isAuth\r\n      }\r\n  ), shallowEqual);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (path.startsWith(\"/search/\")) {\r\n      dispatch(search(searchTerm));\r\n    } else {\r\n      dispatch(getUsers(pageSize,\r\n          currentPage,\r\n          isFriends));\r\n    }\r\n  }, [currentPage, pageSize, dispatch, path, isFriends, searchTerm]);\r\n\r\n  const onPageChanged = (currentPage: number): void => {\r\n    dispatch(usersActions.setCurrentPage(currentPage))\r\n  };\r\n\r\n\r\n  const users = usersList.map((user) => {\r\n\r\n    return (\r\n        <User key={user.id} isAuth={isAuth}\r\n            photo={user.photos.small}\r\n            status={user.status}\r\n            id={user.id}\r\n            followed={user.followed}\r\n            fullName={user.name}\r\n            isFollowing={isFollowing}\r\n        />\r\n    );\r\n  });\r\n\r\n  return (\r\n      <>\r\n        {isFetching ?\r\n            <Preloader/> :\r\n            (\r\n                <>\r\n                  <div className={classes.users}>\r\n                    {isEmpty(users) ?\r\n                        <p className={classes.users_notFound}>Sorry,\r\n                          nothing\r\n                          found</p> :\r\n                        users}\r\n\r\n                  </div>\r\n                  <Paginator totalUsersCount={totalUsersCount}\r\n                      pageSize={pageSize} currentPage={currentPage}\r\n                      onPageChanged={onPageChanged}/>\r\n                </>\r\n            )}\r\n      </>\r\n  );\r\n};\r\n\r\n","import React, {FC, useEffect} from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport styles from './FriendsBar.module.scss'\r\nimport avatar_undefined from '../../../../../ui/assets/images/avatar-undefined.jpg'\r\nimport {Link, NavLink} from 'react-router-dom'\r\nimport {getFriendsDemo} from '../../../modules/users/actions'\r\nimport {RootState} from '../../../../../lib/store/root-reducer'\r\nimport {Preloader} from '../../../../../ui/atoms/preloader/Preloader'\r\n\r\n\r\ninterface PropsType {\r\n    clearPage: React.EventHandler<React.MouseEvent>\r\n}\r\n\r\nexport const FriendsBar: FC<PropsType> = ({clearPage}) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(getFriendsDemo(6, 1))\r\n    }, [dispatch])\r\n\r\n    const friends = useSelector((state: RootState) => state.usersPage.friends)\r\n\r\n    const friendsElements = friends.map((friend) => {\r\n\r\n        return (\r\n            <div key={friend.id} className={styles.friend}>\r\n                <Link to={`/profile/${friend.id}`}>\r\n                    <img className={styles.friendPhoto}\r\n                         src={friend.photos?.small || avatar_undefined}\r\n                         alt=\"\"/>\r\n                    <p className={styles.friendName}>{friend.name}</p>\r\n                </Link>\r\n            </div>\r\n        )\r\n    })\r\n\r\n    return (\r\n        <>\r\n            {friends.length === 0 ?\r\n                <Preloader/> :\r\n                <aside className={styles.friendsBar}>\r\n                    <h3 onClick={clearPage}>\r\n                        <NavLink\r\n                            activeClassName={styles.active}\r\n                            to=\"/friends\">Friends</NavLink>\r\n                    </h3>\r\n                    <div className={styles.friendInfo}>\r\n                        {friendsElements}\r\n                    </div>\r\n                </aside>}\r\n        </>\r\n    )\r\n}","import React, {FC} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {RootState} from \"../../lib/store/root-reducer\";\r\nimport {FriendsBar} from './ui/moleculs/FriendsBar/FriendsBar'\r\n\r\nexport interface IFriendsProps {\r\n  clearPage: () => void\r\n}\r\n\r\nexport const Friends: FC<IFriendsProps> = ({clearPage}) => {\r\n\r\n  const isMobile: boolean = document.documentElement.clientWidth <= 860;\r\n\r\n  const isAuth: boolean = useSelector((state: RootState) => state.auth.isAuth);\r\n\r\n  return isAuth && !isMobile ?\r\n      <FriendsBar clearPage={clearPage}/> : null\r\n};","import React, {FC} from \"react\";\r\nimport styles from \"./UsersSearch.module.scss\"\r\n\r\ninterface IUsesrsSearchProps {\r\n  searchTerm: string\r\n  onSearch: React.EventHandler<React.KeyboardEvent>\r\n  onChange: React.EventHandler<React.ChangeEvent>\r\n}\r\n\r\nexport const UsersSearch: FC<IUsesrsSearchProps> = ({searchTerm, onSearch, onChange}) => {\r\n  return (\r\n\r\n      <div className={styles.usersSearch}>\r\n        <p><input autoComplete=\"off\" onKeyDown={onSearch}\r\n            placeholder=\"Find User\" type=\"text\"\r\n            value={searchTerm} onChange={onChange}/>\r\n          <i className=\"fa fa-search\"/>\r\n        </p>\r\n      </div>\r\n\r\n  )\r\n};","import React, {FC, useState} from \"react\";\r\nimport {useHistory} from \"react-router\";\r\nimport {UsersSearch} from './ui/moleculs/UsersSearch/UsersSearch'\r\n\r\n\r\nexport const Search: FC = () => {\r\n  const history = useHistory();\r\n  const [searchTerm, setSearchTerm] = useState<string>('');\r\n\r\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n  const onSearch = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.key === \"Enter\") history.push(`/search/${searchTerm}`)\r\n  };\r\n  return (\r\n      <UsersSearch searchTerm={searchTerm}\r\n          onChange={onChange} onSearch={onSearch}/>\r\n  )\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1NvHy\",\"cssload_loader\":\"Preloader_cssload_loader__3bGq4\",\"cssload_inner\":\"Preloader_cssload_inner__jGbvQ\",\"cssload_one\":\"Preloader_cssload_one__1YyfL\",\"cssload-rotate-one\":\"Preloader_cssload-rotate-one__37_lG\",\"cssload_two\":\"Preloader_cssload_two__29jxm\",\"cssload-rotate-two\":\"Preloader_cssload-rotate-two__1K7y1\",\"cssload_three\":\"Preloader_cssload_three__3qFuE\",\"cssload-rotate-three\":\"Preloader_cssload-rotate-three__3_wsA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music_tracks\":\"Tracks_music_tracks__BmcNb\",\"category_header\":\"Tracks_category_header__qtguw\",\"track_container\":\"Tracks_track_container__1YNoH\",\"track_album\":\"Tracks_track_album__2ehJp\",\"track_album_playing\":\"Tracks_track_album_playing__1Dcvm\",\"track_title\":\"Tracks_track_title__3LXEq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_block\":\"Search_search_block__L2NZ1\",\"search_query\":\"Search_search_query__1Fyqe\",\"search_btn\":\"Search_search_btn__14Tds\",\"cover\":\"Search_cover__1Ml3P\",\"s-circle\":\"Search_s-circle__6pI0P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__1e5gT\",\"user_info\":\"User_user_info__CIH-X\",\"user_photo\":\"User_user_photo__3CIRy\",\"user_info_status\":\"User_user_info_status__1ZYUf\",\"btn_container\":\"User_btn_container__1TLP_\",\"sendMsg_btn\":\"User_sendMsg_btn__3aqc1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBar\":\"FriendsBar_friendsBar__1DOOZ\",\"friendInfo\":\"FriendsBar_friendInfo__1wZBq\",\"friend\":\"FriendsBar_friend__3V4DM\",\"active\":\"FriendsBar_active__2BGw1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Navbar_container__bPROr\",\"mcd-menu\":\"Navbar_mcd-menu__1dl6u\",\"active\":\"Navbar_active__30xB3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news_article\":\"Article_news_article__2AVV-\",\"news_article_title\":\"Article_news_article_title__34SjJ\"};","import {ThunkType} from './reducer'\r\nimport {\r\n    authAPI,\r\n    profileAPI,\r\n    ProfileType,\r\n    securityAPI\r\n} from '../../../../api/social-api'\r\n\r\n\r\n// ==========Action Creators======================\r\n\r\nexport const actions = {\r\n    setAuthUserData: (user: undefined | ProfileType,\r\n                      isAuth: boolean) => ({\r\n        type: 'SN/auth/SET_USER_DATA',\r\n        user: {\r\n            ...user\r\n        },\r\n        isAuth\r\n    } as const),\r\n    getCaptchaUrlSuccess: (captchaUrl: string | null) => ({\r\n        type: 'SN/auth/GET_CAPTCHA_URL_SUCCESS',\r\n        captchaUrl\r\n    } as const)\r\n}\r\n\r\n\r\n// =====================Thunk Creators====================\r\n\r\nexport const getAuth = (isAuth: boolean): ThunkType => async (dispatch) => {\r\n    let data = await authAPI.me()\r\n\r\n    if (data) {\r\n        const authUserProfile: ProfileType = await profileAPI.getProfile(data.data.id)\r\n        dispatch(actions.setAuthUserData(authUserProfile, isAuth))\r\n    }\r\n\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkType => async (dispatch) => {\r\n    let data = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (data.resultCode === 0) {\r\n        await dispatch(getAuth(true))\r\n    } else {\r\n        if (data.resultCode === 10) {\r\n           await dispatch(getCaptchaUrl())\r\n        }\r\n        const error = data.messages.length > 0 ?\r\n            data.messages[0] :\r\n            \"Unknown Error\";\r\n        return error;\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = (): ThunkType => async (dispatch) => {\r\n    let data = await securityAPI.getCaptchaUrl()\r\n    const captchaUrl = data.url\r\n    dispatch(actions.getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = (): ThunkType => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actions.setAuthUserData(undefined, false))\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music_wrapper\":\"Music_music_wrapper__3HtXI\",\"music\":\"Music_music__20M1R\",\"category_header\":\"Music_category_header__saygt\",\"podcast_description\":\"Music_podcast_description__yuo4U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userInfo\":\"UserAuthInfoBar_userInfo__OOWXH\",\"userInfo_photo\":\"UserAuthInfoBar_userInfo_photo__GiG03\",\"userInfo_name\":\"UserAuthInfoBar_userInfo_name__2EI8C\",\"login_link\":\"UserAuthInfoBar_login_link__qc4wd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3S5Ot\",\"header_content\":\"Header_header_content__1jeoT\",\"logo_wrapper\":\"Header_logo_wrapper__2DKMU\",\"header_logo\":\"Header_header_logo__1Vz4o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"common_input\":\"LoginForm_common_input__1GhB-\",\"send_btn\":\"LoginForm_send_btn__2o1l2\",\"switch\":\"LoginForm_switch__2Bnre\",\"input_error\":\"LoginForm_input_error__SEroT\",\"error\":\"LoginForm_error__PnKPK\",\"span_error\":\"LoginForm_span_error__1LIow\"};","export default __webpack_public_path__ + \"static/media/avatar-undefined.1914c030.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"Dropdown_dropdown__10R0R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news_wrapper\":\"News_news_wrapper__j1PrY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app_wrapper\":\"Common_app_wrapper__3xtfL\",\"content_wrapper\":\"Common_content_wrapper__GXNjy\",\"app_content\":\"Common_app_content__3n0Ib\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__364nf\",\"users_notFound\":\"Users_users_notFound__2TCK0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"followBtn\":\"Followbtn_followBtn__3yGH7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1AnqI\",\"footer_content\":\"Footer_footer_content__2ESLO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1aFfk\",\"card_name\":\"Card_card_name__1h6ok\",\"artist_card_name\":\"Card_artist_card_name__2Vi8D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards_header\":\"Cards_cards_header__3GhQc\",\"cards\":\"Cards_cards__dJdMe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersSearch\":\"UsersSearch_usersSearch__1InsJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logout\":\"Logout_logout__2KSkG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sign_in\":\"SignIn_sign_in__f8gOH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Search_search__2q-BU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"back\":\"Arrow_back__RcHeb\"};","import React from 'react'\r\n\r\n\r\n\r\nconst Dialogs: React.FC = () => {\r\n\r\n    return (\r\n        <>\r\n            Dialogs\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Dialogs\r\n","import React, {FC} from \"react\";\r\nimport {CommonTemplate} from '../../ui/templates/Common'\r\nimport Dialogs from '../../features/dialogs/Dialogs'\r\n\r\n\r\nconst DialogsPage:FC = () => {\r\n  return(\r\n    <CommonTemplate>\r\n      <Dialogs/>\r\n    </CommonTemplate>\r\n  )\r\n};\r\n\r\nexport default DialogsPage","import React from 'react'\r\nimport {CommonTemplate} from '../../ui/templates/Common'\r\nimport {Users} from '../../features/users'\r\n\r\n\r\nconst UsersPage = () => {\r\n\r\n    return (\r\n        <CommonTemplate>\r\n            <Users/>\r\n        </CommonTemplate>\r\n    )\r\n}\r\n\r\nexport default UsersPage","import React from 'react'\r\nimport {CommonTemplate} from '../../ui/templates/Common'\r\nimport {Users} from '../../features/users'\r\n\r\n\r\nconst FriendsPage = () => {\r\n    return (\r\n        <CommonTemplate>\r\n            <Users/>\r\n        </CommonTemplate>\r\n    )\r\n}\r\n\r\nexport default FriendsPage","import React from 'react'\r\nimport {CommonTemplate} from '../../ui/templates/Common'\r\nimport {Users} from '../../features/users'\r\n\r\n\r\nconst SearchPage = () => {\r\n\r\n    return (\r\n        <CommonTemplate>\r\n            <Users/>\r\n        </CommonTemplate>\r\n    )\r\n}\r\n\r\nexport default SearchPage","import React from 'react'\r\nimport {useForm} from 'react-hook-form'\r\nimport {useDispatch} from 'react-redux'\r\nimport classes from './LoginForm.module.scss'\r\nimport {login} from '../../../modules/authorization/actions'\r\n\r\ntype ILoginFormProps = {\r\n    captchaUrl: string | null\r\n}\r\n\r\n\r\nexport const LoginForm: React.FC<ILoginFormProps> = ({captchaUrl}) => {\r\n\r\n    const {register, errors, handleSubmit} = useForm();\r\n    const dispatch = useDispatch();\r\n\r\n    const onSubmit = (formData: any) => {\r\n        dispatch(login(formData.email, formData.password, formData.rememberMe, formData.captcha))\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div>\r\n                <input name='email'\r\n                        ref={register({\r\n                            required: \"Please  enter your email\"\r\n                        })}\r\n                        placeholder='e-mail'/>\r\n                        <span className={classes.span_error}>{errors.name}</span>\r\n            </div>\r\n            <div><input name='password'\r\n                        ref={register({\r\n                            required: \"Please enter your password\"\r\n                        })}\r\n                        type=\"password\"\r\n                        placeholder='password'\r\n            />\r\n                <span className={classes.span_error}>{errors.name}</span>\r\n            </div>\r\n            <div>\r\n                <input name='rememberMe'\r\n                       type=\"checkbox\"/>\r\n                <label htmlFor=\"rememberMe\">Remember Me</label>\r\n            </div>\r\n            {captchaUrl ?\r\n                <><img alt=\"captcha\" src={captchaUrl}/>\r\n                    <input name='captcha'\r\n                           placeholder='Enter symbols'\r\n                           ref={register({\r\n                               required: \"Please enter symbols\"\r\n                           })} type=\"text\"/>\r\n                    <span className={classes.span_error}>{errors.name}</span>\r\n                    {errors.captcha && \"Captcha is required\"}\r\n                </> :\r\n                \"\"}\r\n            <div>\r\n                <p className={classes.span_error}>{errors.name}</p>\r\n                <input\r\n                    value={\"Login\"} type=\"submit\"/>\r\n            </div>\r\n        </form>\r\n    )\r\n};","import React from 'react'\r\nimport {useSelector} from 'react-redux'\r\nimport {RootState} from '../../lib/store/root-reducer'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {LoginForm} from './ui/organisms/LoginForm/LoginForm'\r\n\r\n\r\nexport const Login: React.FC = () => {\r\n    const {isAuth, captchaUrl} = useSelector((state: RootState) => (\r\n        {\r\n            isAuth: state.auth.isAuth,\r\n            captchaUrl: state.auth.captchaUrl\r\n        }\r\n    ))\r\n\r\n\r\n    return isAuth ? <Redirect to={'/profile'}/> :\r\n        (\r\n            <div>\r\n                <h1>Please, log in...</h1>\r\n                <LoginForm captchaUrl={captchaUrl}/>\r\n            </div>\r\n        )\r\n\r\n}","import React from \"react\";\r\nimport {CommonTemplate} from '../../ui/templates/Common'\r\nimport {Login} from '../../features/authentication/Login'\r\n\r\n\r\nconst LoginPage = () => {\r\n  return(\r\n    <CommonTemplate>\r\n      <Login/>\r\n    </CommonTemplate>\r\n  )\r\n};\r\n\r\nexport default LoginPage","import axios, {AxiosResponse} from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://cors-anywhere.herokuapp.com/http://api.deezer.com/'\r\n});\r\n\r\n\r\nexport interface IArtist {\r\n  id: number\r\n  link: string\r\n  name: string\r\n  picture: string\r\n  picture_big: string\r\n  picture_medium: string\r\n  picture_small: string\r\n  picture_xl: string\r\n  radio: boolean\r\n  tracklist: string\r\n  type: string\r\n}\r\n\r\nexport interface IAlbum {\r\n  artist: IArtist\r\n  cover: string\r\n  cover_big: string\r\n  cover_medium: string\r\n  cover_small: string\r\n  cover_xl: string\r\n  explicit_lyrics: boolean\r\n  id: number\r\n  link: string\r\n  md5_image: string\r\n  position: number\r\n  record_type: string\r\n  title: string\r\n  tracklist: string\r\n  type: string\r\n}\r\n\r\nexport interface IPlayLists {\r\n  checksum: string\r\n  creation_date: string\r\n  id: number\r\n  link: string\r\n  md5_image: string\r\n  nb_tracks: number\r\n  picture: string\r\n  picture_big: string\r\n  picture_medium: string\r\n  picture_small: string\r\n  picture_xl: string\r\n  public: boolean\r\n  title: string\r\n  tracklist: string\r\n  type: string\r\n}\r\n\r\nexport interface IPodcasts {\r\n  available: boolean\r\n  description: string\r\n  fans: number\r\n  id: number\r\n  link: string\r\n  picture: string\r\n  picture_big: string\r\n  picture_medium: string\r\n  picture_small: string\r\n  picture_xl: string\r\n  share: string\r\n  title: string\r\n  type: string\r\n}\r\n\r\nexport interface ITracks {\r\n  album: IAlbum\r\n  artist: IArtist\r\n  duration: number\r\n  explicit_content_cover: number\r\n  explicit_content_lyrics: number\r\n  explicit_lyrics: boolean\r\n  id: number\r\n  link: string\r\n  md5_image: string\r\n  position: number\r\n  preview: string\r\n  rank: number\r\n  title: string\r\n  title_short: string\r\n  title_version: string\r\n  type: string\r\n}\r\n\r\nexport  interface IMusicCategory<T> {\r\n  data: Array<T>,\r\n  total: number\r\n}\r\n\r\nexport interface IMusicResponse {\r\n\r\n  albums: IMusicCategory<IAlbum>\r\n  artists: IMusicCategory<IArtist>\r\n  playlists: IMusicCategory<IPlayLists>\r\n  podcasts: IMusicCategory<IPodcasts>\r\n  tracks: IMusicCategory<ITracks>\r\n}\r\n\r\n\r\nexport const musicApi = {\r\n  getMusicChart(): Promise<IMusicResponse | void> {\r\n    return instance.get(`chart/`)\r\n        .then((response: AxiosResponse<IMusicResponse>) => {\r\n          return response.data;\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n  },\r\n\r\n  search(query: string): Promise<IMusicCategory<ITracks> | void> {\r\n    return instance.get(`/search?q=${query}`)\r\n        .then((response: AxiosResponse<IMusicCategory<ITracks>>) => {\r\n          return response.data\r\n        }).catch((err) => console.log(err))\r\n  }\r\n};\r\n\r\n","import {IMusicCategory, IMusicResponse, ITracks, musicApi} from '../../../../api/music-api'\r\nimport {DispatchType} from '../../../../lib/store/root-reducer'\r\n\r\n\r\n// ==========Action Creators======================\r\n\r\n\r\nexport const musicActions = {\r\n    setMusicCharts: (charts: IMusicResponse) => ({type: 'MUSIC/SET_MUSIC_CHARTS', charts} as const),\r\n    setSearchResults: (searchResults: IMusicCategory<ITracks> | null) => ({\r\n        type: 'MUSIC/SET_SEARCH_RESULTS',\r\n        searchResults\r\n    } as const)\r\n}\r\n\r\n\r\n// =====================Thunk Creators====================\r\n\r\nexport const getMusicChart = () => (dispatch: DispatchType) => {\r\n    musicApi.getMusicChart()\r\n        .then((charts) => {\r\n            dispatch(musicActions.setMusicCharts(charts as IMusicResponse))\r\n        })\r\n}\r\n\r\nexport const search = (query: string) => (dispatch: DispatchType) => {\r\n    musicApi.search(query).then((searchResults) => {\r\n        dispatch(musicActions.setSearchResults((searchResults as IMusicCategory<ITracks>)))\r\n    })\r\n}","import {InferActionsTypes} from '../../../../lib/store/root-reducer'\r\nimport {playerActions} from './actions'\r\n\r\n\r\nexport const initialState = {\r\n    currentAlbum: '',\r\n    bgPhoto: '',\r\n    currentNumber: 0,\r\n    currentSrc: '',\r\n    progress: 0,\r\n    volume: 50,\r\n    duration: '',\r\n    currentSecond: '',\r\n    hintTime: '',\r\n    isPlaying: false,\r\n    artist: '',\r\n    title: '',\r\n}\r\n\r\nexport type PlayerStateType = typeof initialState;\r\n\r\n\r\nexport type ActionsTypes = InferActionsTypes<typeof playerActions>\r\n\r\nexport const playerReducer = (state: PlayerStateType, action: ActionsTypes) => {\r\n    switch (action.type) {\r\n        case 'PLAYER/NEXT_SONG':\r\n            return {\r\n                ...state, ...action.payload,\r\n                currentNumber: state.currentNumber + 1\r\n            }\r\n        case 'PLAYER/PREV_SONG':\r\n            return {\r\n                ...state, ...action.payload,\r\n                currentNumber: state.currentNumber - 1,\r\n            }\r\n        case 'PLAYER/SET_SONG':\r\n            return {\r\n                ...state, ...action.payload\r\n            }\r\n        case 'PLAYER/SET_PROGRESS':\r\n            return {\r\n                ...state, ...action.payload\r\n            }\r\n        case 'PLAYER/SET_VOLUME':\r\n            return {\r\n                ...state,\r\n                volume: action.payload\r\n            }\r\n        case 'PLAYER/SET_DURATION':\r\n            return {\r\n                ...state,\r\n                duration: action.payload\r\n            }\r\n        case 'PLAYER/SET_HINT':\r\n            return {\r\n                ...state,\r\n                hintTime: action.payload\r\n            }\r\n        case 'PLAYER/TOGGLE_IS_PLAYING':\r\n            return {\r\n                ...state,\r\n                isPlaying: action.payload\r\n            }\r\n        default:\r\n            throw new Error()\r\n    }\r\n}","\r\n\r\n\r\ntype SongInfoType = {\r\n    currentSrc: string,\r\n    currentAlbum: string,\r\n    bgPhoto: string,\r\n    artist: string,\r\n    title: string\r\n}\r\n\r\ntype ISetProgressAction = {\r\n    payload: {\r\n        progress?: number,\r\n        currentSecond?: string\r\n    }\r\n}\r\n\r\nexport const playerActions = {\r\n    nextSong: (payload: SongInfoType) => ({type: 'PLAYER/NEXT_SONG', payload} as const),\r\n    setHint: (payload: string) => ({type: 'PLAYER/SET_HINT', payload} as const),\r\n    toggleIsPlaying: (payload: boolean) => ({type: 'PLAYER/TOGGLE_IS_PLAYING', payload} as const),\r\n    setDuration: (payload: string) => ({type: 'PLAYER/SET_DURATION', payload} as const),\r\n    prevSong: (payload: SongInfoType) => ({type: 'PLAYER/PREV_SONG', payload} as const),\r\n    setSong: (payload: SongInfoType & { currentNumber?: number }) => ({type: 'PLAYER/SET_SONG', payload} as const),\r\n    setProgress: (payload: ISetProgressAction['payload']) => ({type: 'PLAYER/SET_PROGRESS', payload} as const),\r\n    setVolume: (payload: number) => ({type: 'PLAYER/SET_VOLUME', payload} as const)\r\n}\r\n","export const converter = (duration: number): string => {\r\n  const minutes = Math.floor(duration / 60);\r\n  let seconds = String(Math.floor(duration % 60));\r\n  if (seconds.length === 1) {\r\n    seconds = \"0\" + seconds;\r\n  }\r\n  const result = minutes + \" : \" + seconds;\r\n  return result;\r\n};\r\n\r\nexport const calculateProgress = (mouseX: number, progressElement: HTMLProgressElement): number => {\r\n  const barWidth = progressElement.getBoundingClientRect().right -\r\n      progressElement.getBoundingClientRect().left;\r\n  const scrollPos = Math.abs(mouseX -\r\n      progressElement.getBoundingClientRect().left);\r\n  return scrollPos / barWidth * 100;\r\n};","import React, {ChangeEvent, Dispatch, SyntheticEvent, useEffect, useRef} from 'react'\r\nimport styles from './Player.module.scss'\r\nimport {ActionsTypes, PlayerStateType} from '../../../modules/player/reducer'\r\nimport {DispatchType} from '../../../../../lib/store/root-reducer'\r\nimport {playerActions} from '../../../modules/player/actions'\r\nimport {calculateProgress, converter} from '../../../utils'\r\n\r\n\r\n\r\n\r\ninterface IPlayerProps {\r\n    dispatch: Dispatch<ActionsTypes>,\r\n    state: PlayerStateType\r\n    initPlayer: (e: React.MouseEvent<HTMLDivElement>) => void\r\n}\r\n\r\nexport const Player = React.forwardRef<HTMLAudioElement, IPlayerProps>(\r\n    ({dispatch, state, initPlayer}, ref) => {\r\n\r\n        const trackRef = ref as React.RefObject<HTMLAudioElement>\r\n        const hintRef = useRef<HTMLElement>(null)\r\n\r\n        const onForward = (): void => {\r\n            if (state.currentNumber >= 9) {\r\n                return\r\n            }\r\n\r\n            const nextTrackNumber = state.currentNumber + 1\r\n            const query = `div[data-track_number=${nextTrackNumber}]`\r\n\r\n            const nextTrack = document.querySelector<HTMLDivElement>(`${query}`)\r\n            dispatch(playerActions.nextSong({\r\n                currentSrc: nextTrack!.dataset.url_track!,\r\n                currentAlbum: nextTrack!.dataset.album_photo!,\r\n                bgPhoto: nextTrack!.dataset.bg_photo!,\r\n                artist: nextTrack!.dataset.artist_name!,\r\n                title: nextTrack!.dataset.track_title!\r\n            }))\r\n        }\r\n\r\n        const onBackward = (): void => {\r\n            if (state.currentNumber <= 0) return\r\n            const prevTrackNumber = state.currentNumber - 1\r\n            const query = `div[data-track_number=${prevTrackNumber}]`\r\n            const prevTrack = document.querySelector<HTMLDivElement>(`${query}`)\r\n            dispatch(playerActions.prevSong({\r\n                currentSrc: prevTrack!.dataset.url_track!,\r\n                currentAlbum: prevTrack!.dataset.album_photo!,\r\n                bgPhoto: prevTrack!.dataset.bg_photo!,\r\n                artist: prevTrack!.dataset.artist_name!,\r\n                title: prevTrack!.dataset.track_title!\r\n            }))\r\n        }\r\n\r\n        const seekProgress = (e: React.MouseEvent<HTMLProgressElement>) => {\r\n            if (!isNaN(trackRef.current!.duration)) {\r\n                const duration = trackRef.current!.duration\r\n                const percent = calculateProgress(e.pageX, e.currentTarget)\r\n                trackRef.current!.currentTime = duration / 100 * percent\r\n            }\r\n        }\r\n\r\n        const playingProgress = (e: SyntheticEvent<HTMLAudioElement>) => {\r\n            let duration = trackRef.current!.duration\r\n            if (isNaN(duration)) return\r\n            const currentSecond = converter(trackRef.current!.currentTime)\r\n            dispatch(playerActions.setProgress({\r\n                progress: trackRef.current!.currentTime / duration * 100,\r\n                currentSecond: currentSecond\r\n            }))\r\n            if (trackRef.current!.ended) onForward()\r\n        }\r\n\r\n        const onVolume = (e: ChangeEvent<HTMLInputElement>) => {\r\n            dispatch(playerActions.setVolume(+e.target.value))\r\n\r\n        }\r\n\r\n        const showHint = (e: React.MouseEvent<HTMLProgressElement>) => {\r\n            if (!isNaN(state.progress)) {\r\n                const percent = calculateProgress(e.clientX, e.currentTarget)\r\n                const result = converter(Math.floor((\r\n                    trackRef.current!.duration / 100\r\n                ) * percent))\r\n                dispatch(playerActions.setHint(result))\r\n                hintRef.current!.style.left =\r\n                    e.clientX - e.currentTarget.getBoundingClientRect().left +\r\n                    'px'\r\n                hintRef.current!.hidden = false\r\n            }\r\n        }\r\n\r\n        const closeHint = () => {\r\n            hintRef.current!.hidden = true\r\n        }\r\n\r\n        useEffect(() => {\r\n            trackRef.current!.volume = state.volume / 100\r\n        }, [state.volume, trackRef])\r\n\r\n\r\n        return (\r\n            <div className={styles.player}>\r\n                <audio ref={trackRef} onTimeUpdate={playingProgress}\r\n                       onLoadedData={() => {\r\n                           dispatch(playerActions.setDuration(converter(trackRef.current!.duration)))\r\n                       }}\r\n                       src={state.currentSrc}\r\n                       preload=\"none\" data-track_number={state.currentNumber}/>\r\n                <div onClick={initPlayer} className={styles.play_block}>\r\n                    <img\r\n                        src={state.currentAlbum} alt=\"player_album\"/>\r\n                    {state.isPlaying ?\r\n                        <i className={`fa fa-pause ${styles.pause}`}/> :\r\n                        <i className={`fa fa-play ${styles.play}`}/>}\r\n                </div>\r\n                <div className={styles.arrows}>\r\n                    <i className=\"fa fa-step-backward\" onClick={onBackward}\r\n                       aria-hidden=\"true\"/>\r\n                    <i className=\"fa fa-step-forward\" onClick={onForward}\r\n                       aria-hidden=\"true\"/>\r\n                </div>\r\n                <div className={styles.progress_bar}>\r\n                    <div className={styles.title_info}>\r\n            <span\r\n                className={styles.title}>{state.artist} - {state.title}</span>\r\n                        <small>{state.currentSecond}\r\n                            {/*{state.duration ? \"/\" + state.duration : \"/0 : 00\"}*/}\r\n                        </small>\r\n                    </div>\r\n                    <div className={styles.progress_wrapper}>\r\n                        <progress onClick={seekProgress} max=\"100\"\r\n                                  onMouseMove={showHint} onMouseLeave={closeHint}\r\n                                  value={state.progress}>\r\n                        </progress>\r\n\r\n                        <small ref={hintRef}\r\n                               className={styles.hint}>{state.hintTime}\r\n                        </small>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.volume}>\r\n                    {state.volume > 0 ?\r\n                        <i className=\"fa fa-volume-up\" aria-hidden=\"true\"/> :\r\n                        <i className=\"fa fa-volume-off\" aria-hidden=\"true\"/>}\r\n                    <input type=\"range\" onChange={onVolume}\r\n                           value={state.volume}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    })","import styles from './Tracks.module.scss'\r\nimport React, {FC, PropsWithChildren, useEffect, useReducer, useRef} from 'react'\r\nimport {ITracks} from '../../../../../api/music-api'\r\nimport {initialState, playerReducer} from '../../../modules/player/reducer'\r\nimport {playerActions} from '../../../modules/player/actions'\r\nimport {converter} from '../../../utils'\r\nimport {Player} from '../Player/Player'\r\nimport {Preloader} from '../../../../../ui/atoms/preloader/Preloader'\r\n\r\n\r\ninterface ITracksProps extends PropsWithChildren<{ tracks: undefined | Array<ITracks> }> {\r\n}\r\n\r\nexport const Tracks: FC<ITracksProps> = ({tracks, children}) => {\r\n\r\n    const trackRef = useRef<HTMLAudioElement>(null)\r\n\r\n    const [state, dispatch] = useReducer(playerReducer, initialState)\r\n\r\n    useEffect(() => {\r\n        if (tracks) {\r\n            dispatch(playerActions.setSong({\r\n                currentAlbum: tracks[0].album.cover_small,\r\n                currentSrc: tracks[0].preview,\r\n                bgPhoto: tracks[0].artist.picture_xl,\r\n                artist: tracks[0].artist.name,\r\n                title: tracks[0].title\r\n            }))\r\n        }\r\n    }, [tracks])\r\n\r\n\r\n    const initPlayer = (e: React.MouseEvent<HTMLDivElement>) => {\r\n        if (e.currentTarget.dataset.url_track && state.currentSrc !==\r\n            e.currentTarget.dataset.url_track) {\r\n            dispatch((\r\n                playerActions.setSong({\r\n                    currentNumber: +e.currentTarget.dataset.track_number!,\r\n                    currentSrc: e.currentTarget.dataset.url_track,\r\n                    currentAlbum: e.currentTarget.dataset.album_photo!,\r\n                    bgPhoto: e.currentTarget.dataset.bg_photo!,\r\n                    artist: e.currentTarget.dataset.artist_name!,\r\n                    title: e.currentTarget.dataset.track_title!\r\n                })\r\n            ))\r\n        } else {\r\n            onPlay()\r\n        }\r\n    }\r\n\r\n    const onPlay = (): void => {\r\n        if (trackRef.current!.paused) {\r\n            const playPromise = trackRef.current!.play()\r\n            // Fix Uncaught Error: The error you provided does not contain a stack trace.\r\n            if (playPromise) playPromise.catch(() => {\r\n            })\r\n            //==========================================================================\r\n            dispatch(playerActions.toggleIsPlaying(true))\r\n        } else {\r\n            trackRef.current!.pause()\r\n            dispatch(playerActions.toggleIsPlaying(false))\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        return () => {\r\n            //we have old state here that`s why track dont\r\n            // play when first\r\n            // song dispatch happened\r\n            if (state.currentSrc.length > 0) onPlay()\r\n        }\r\n    }, [state.currentNumber, state.currentSrc.length])\r\n\r\n    const tracksElements = tracks?.map((track, index) => {\r\n        let playing\r\n        if (state.currentNumber === index) {\r\n            playing = styles.track_album_playing\r\n        } else {\r\n            playing = ''\r\n        }\r\n\r\n        return <div key={track.id} className={styles.track_container}>\r\n            <div\r\n                data-url_track={track.preview}\r\n                data-track_number={index}\r\n                data-album_photo={track.album.cover_small}\r\n                data-bg_photo={track.artist.picture_xl}\r\n                data-track_title={track.title}\r\n                data-artist_name={track.artist.name}\r\n                onClick={initPlayer}\r\n                className={styles.track_album + ' ' + playing}>\r\n                <img\r\n                    alt=\"artist_image\" src={track.album.cover_small}/>\r\n                <i className=\"fa fa-play\"/>\r\n            </div>\r\n            <div className={styles.track_title}>\r\n                <a href={track.artist.link}>\r\n                    <span>{track.artist.name} - {track.title}</span>\r\n                </a>\r\n                <small\r\n                    className={styles.track_title_duration}>{converter(track.duration)}\r\n                </small>\r\n            </div>\r\n        </div>\r\n    })\r\n\r\n    return (\r\n        <>\r\n\r\n            {tracksElements ?\r\n                <Player ref={trackRef} dispatch={dispatch} state={state}\r\n                        initPlayer={initPlayer}/> :\r\n                <Preloader/>}\r\n            <div className={styles.music_tracks}>\r\n                <h3 className={styles.category_header}>{children}</h3>\r\n                {tracksElements || <Preloader/>}\r\n            </div>\r\n        </>\r\n    )\r\n}","import React, {FC} from \"react\";\r\nimport styles from \"./Card.module.scss\"\r\n\r\ninterface ICardProps {\r\n  id: number\r\n  link?: string\r\n  artistName?: string\r\n  title?: string\r\n  picture: string\r\n  font_size?: string\r\n  pictureLink? : string\r\n}\r\n\r\nexport const Card: FC<ICardProps> = ({id, link, artistName, title, picture, font_size}) => {\r\n  return (\r\n      <section className={styles.card} key={id}>\r\n        {title || artistName ?\r\n            <p style={{\r\n              \"fontSize\": font_size\r\n            }} className={styles.card_name}><a\r\n                href={link}>{title || artistName}\r\n            </a>\r\n            </p> :\r\n            \"\"}\r\n        <a href={link}>\r\n          <img src={picture} alt={artistName}/>\r\n        </a>\r\n      </section>\r\n  )\r\n};","import styles from \"./Cards.module.scss\";\r\nimport React, {FC} from \"react\";\r\nimport {Preloader} from '../../../../../ui/atoms/preloader/Preloader'\r\n\r\ninterface ICardsProps {\r\n  header: string\r\n  // we have children in FC type\r\n}\r\n\r\nexport const Cards: FC<ICardsProps>= ({children, header}) => {\r\n\r\n\r\n  return (\r\n    <>\r\n      <h3 className={styles.cards_header}>{header}</h3>\r\n      <div className={styles.cards}>\r\n        {children || <Preloader/>}\r\n      </div>\r\n    </>\r\n  )\r\n};","import React, {FC, ReactNode} from 'react'\r\nimport {IArtist} from '../../../../api/music-api'\r\nimport {Card} from '../templates/card/Card'\r\nimport {Cards} from '../templates/cards/Cards'\r\n\r\n\r\ninterface IArtistsProps {\r\n    artists?: Array<IArtist>\r\n}\r\n\r\nexport const Artists: FC<IArtistsProps> = ({artists}) => {\r\n\r\n    const artistsElements: Array<ReactNode> | undefined = artists?.map((artist) =>\r\n        <Card key={artist.id}\r\n              id={artist.id} link={artist.link}\r\n              picture={artist.picture_big}\r\n              artistName={artist.name}\r\n        />)\r\n\r\n    return (\r\n        <>\r\n            <Cards header=\"Top Artists\">\r\n                {artistsElements}\r\n            </Cards>\r\n        </>\r\n    )\r\n}","import React, {FC, ReactNode} from \"react\";\r\nimport {IAlbum} from '../../../../api/music-api'\r\nimport {Card} from '../templates/card/Card'\r\nimport {Cards} from '../templates/cards/Cards'\r\n\r\n\r\n\r\ninterface IAlbumsProps {\r\n  albums?: Array<IAlbum>\r\n}\r\n\r\nexport const Albums:FC<IAlbumsProps> = ({albums}) => {\r\n\r\n  const albumsElements: Array<ReactNode> | undefined  = albums?.map((album) => <Card\r\n      key={album.id}\r\n    id={album.id} picture={album.cover_big}\r\n    artistName={album.artist.name}\r\n    title={album.title}\r\n    link={album.link}\r\n    font_size=\"1rem\"\r\n  />);\r\n\r\n  return (\r\n    <>\r\n      <Cards header=\"Top Albums\">\r\n        {albumsElements}\r\n      </Cards>\r\n    </>\r\n  )\r\n};","import classes from '../../Music.module.scss'\r\nimport {IPodcasts} from '../../../../api/music-api'\r\nimport React, {FC, ReactNode} from 'react'\r\nimport {Card} from '../templates/card/Card'\r\nimport {Cards} from '../templates/cards/Cards'\r\n\r\n\r\ninterface IPodcastsProps {\r\n    podcasts?: Array<IPodcasts>\r\n}\r\n\r\nexport const Podcasts: FC<IPodcastsProps> = ({podcasts}) => {\r\n\r\n    const podcastsElements: Array<ReactNode> | undefined = podcasts?.map((podcast) => {\r\n        return <Card key={podcast.id}\r\n                     id={podcast.id} pictureLink={podcast.link}\r\n                     picture={podcast.picture_big}>\r\n            <p\r\n                className={classes.podcast_description}>{podcast.description}</p>\r\n        </Card>\r\n    })\r\n\r\n    return (\r\n        <>\r\n            <Cards header=\"Top Podcasts\">\r\n                {podcastsElements}\r\n            </Cards>\r\n        </>\r\n    )\r\n}","import React, {FC} from \"react\";\r\nimport {IPlayLists} from '../../../../api/music-api'\r\nimport {Card} from '../templates/card/Card'\r\nimport {Cards} from '../templates/cards/Cards'\r\n\r\n\r\n\r\ninterface IPlaylistsProps {\r\n  playlists?: Array<IPlayLists>\r\n}\r\n\r\nexport const Playlists:FC<IPlaylistsProps> = ({playlists}) => {\r\n\r\n  const playlistsElements = playlists?.map((playlist) => <Card\r\n      key={playlist.id}\r\n    id={playlist.id} pictureLink={playlist.link}\r\n    picture={playlist.picture_big}\r\n    // title={playlist.title}\r\n  />);\r\n\r\n  return (\r\n    <>\r\n      <Cards header=\"Top Playlists\">\r\n        {playlistsElements}\r\n      </Cards>\r\n    </>\r\n  )\r\n};","import classes from \"../../Music.module.scss\";\r\nimport React, {FC} from \"react\";\r\nimport {shallowEqual, useSelector} from \"react-redux\";\r\nimport {RootState} from '../../../../lib/store/root-reducer'\r\nimport {Tracks} from './Tracks/Tracks'\r\nimport {Artists} from '../moleculs/Artists'\r\nimport {Albums} from '../moleculs/Albums'\r\nimport {Podcasts} from '../moleculs/Podcasts'\r\nimport {Playlists} from '../moleculs/Playlists'\r\n\r\n\r\nexport const Chart: FC = () => {\r\n\r\n  const {tracks, artists, albums, podcasts, playlists} = useSelector((state: RootState) => (\r\n      {\r\n        tracks: state.music.charts?.tracks?.data,\r\n        artists: state.music.charts?.artists?.data,\r\n        albums: state.music.charts?.albums?.data,\r\n        podcasts: state.music.charts?.podcasts?.data,\r\n        playlists: state.music.charts?.playlists?.data,\r\n      }\r\n  ), shallowEqual);\r\n  return (\r\n      <div className={classes.music}>\r\n        <Tracks tracks={tracks} children={\"Top Tracks\"}/>\r\n        <Artists artists={artists}/>\r\n        <Albums albums={albums}/>\r\n        <Podcasts podcasts={podcasts}/>\r\n        <Playlists playlists={playlists}/>\r\n      </div>\r\n  )\r\n};\r\n","import React, {FC} from 'react'\r\nimport {useForm} from 'react-hook-form'\r\nimport styles from './Search.module.scss'\r\nimport {DispatchType} from '../../../../../lib/store/root-reducer'\r\nimport {search} from '../../../modules/music/actions'\r\n\r\ninterface ISearchProps {\r\n  dispatch: DispatchType\r\n}\r\n\r\ninterface ISearchForm {\r\n  query: string\r\n}\r\n\r\nexport const Search: FC<ISearchProps> = ({dispatch}) => {\r\n\r\n  const {register, handleSubmit} = useForm<ISearchForm>();\r\n  const onSearch = ({query}: ISearchForm) => {\r\n    dispatch(search(query));\r\n  };\r\n\r\n  return (\r\n      <div className={styles.search}>\r\n        <form onSubmit={handleSubmit(onSearch)}>\r\n          <input autoComplete=\"off\" ref={register({required: true})}\r\n              name=\"query\"\r\n              type=\"text\"/>\r\n          <i className=\"fa fa-search\"/>\r\n        </form>\r\n      </div>\r\n  )\r\n};","import React, {FC} from \"react\";\r\nimport styles from \"./Arrow.module.scss\"\r\n\r\ninterface IArrowProps {\r\n back: React.EventHandler<React.MouseEvent>\r\n}\r\nexport const Arrow: FC<IArrowProps> = ({back}) => {\r\n return <i className={`fa fa-angle-left ${styles.back}`} onClick={back} aria-hidden=\"true\"/>\r\n};","import React, {FC} from \"react\";\r\nimport {ITracks} from '../../../../api/music-api'\r\nimport {Tracks} from './Tracks/Tracks'\r\nimport {Arrow} from '../../../../ui/atoms/Arrow/Arrow'\r\nimport {musicActions} from '../../modules/music/actions'\r\nimport {DispatchType} from '../../../../lib/store/root-reducer'\r\n\r\nexport interface ISearchResultsProps {\r\n  searchResults: undefined | Array<ITracks>\r\n  dispatch: DispatchType\r\n}\r\n\r\nexport const SearchResults: FC<ISearchResultsProps> = ({searchResults, dispatch}) => {\r\n\r\n\r\n  const onBackToChart = (): void => {\r\n    dispatch(musicActions.setSearchResults(null));\r\n  };\r\n\r\n\r\n  return (\r\n\r\n      <Tracks tracks={searchResults}>\r\n        <>\r\n          <Arrow back={onBackToChart}/> Search Results\r\n        </>\r\n      </Tracks>\r\n  )\r\n};","import React, {FC, useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport styles from \"./Music.module.scss\"\r\nimport {RootState} from '../../lib/store/root-reducer'\r\nimport {getMusicChart, musicActions} from './modules/music/actions'\r\nimport {Chart} from './ui/organisms/Chart'\r\nimport {Search} from './ui/organisms/Search/Search'\r\nimport {SearchResults} from './ui/organisms/SearchResults'\r\n\r\n\r\nexport const Music: FC = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const searchResults = useSelector((state:RootState) => state.music?.searchResults?.data);\r\n\r\n  useEffect(() => {\r\n    dispatch(musicActions.setSearchResults(null));\r\n    dispatch(getMusicChart());\r\n\r\n  }, [dispatch]);\r\n\r\n\r\n  return (\r\n    <section className={styles.music_wrapper}>\r\n      <Search dispatch={dispatch}/>\r\n      {searchResults ?\r\n        <SearchResults searchResults={searchResults}\r\n          dispatch={dispatch}/> :\r\n        <Chart/>}\r\n    </section>\r\n  )\r\n};\r\n","import React, {FC} from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport {musicActions} from '../../features/music/modules/music/actions'\r\nimport {CommonTemplate} from '../../ui/templates/Common'\r\nimport {Music} from '../../features/music/Music'\r\n\r\n\r\nexport const MusicPage: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const clearSearch = (): void => {\r\n    dispatch(musicActions.setSearchResults(null));\r\n  };\r\n\r\n\r\n  return (\r\n    <CommonTemplate clearMusicSearch={clearSearch}>\r\n      <Music/>\r\n    </CommonTemplate>\r\n  )\r\n};","import axios, {AxiosInstance, AxiosResponse} from \"axios\";\r\n\r\n\r\nconst instance: AxiosInstance = axios.create({\r\n  baseURL: \"https://newsapi.org/v2\"\r\n});\r\n\r\nexport interface INewsParams {\r\n  type?: string,\r\n  country?: string,\r\n  category?: string,\r\n  query?: string\r\n}\r\n\r\ninterface INewsData {\r\n  articles: Array<IArticle>\r\n  status: string,\r\n  totalResults: number,\r\n}\r\n\r\nexport interface IArticle {\r\n  author: string,\r\n  content: string,\r\n  description: string,\r\n  publishedAt: string\r\n  source: {\r\n    id:string\r\n    name:string\r\n  }\r\n  urlToImage: string\r\n  title: string\r\n  url: string\r\n}\r\n\r\nexport const newsApi = {\r\n  getNews({\r\n            type = \"top-headlines\", country = \"country=us\",\r\n            category = \"&category=general\", query = \"\"\r\n          }: INewsParams ): Promise<Array<IArticle> | void> {\r\n    return instance.get(`/${type}?${country}${category}${query}&apiKey=9f6b4297388249849db6c199fd357b24`)\r\n        .then((response: AxiosResponse<INewsData>) => {\r\n          if (response.data.status === \"ok\") {\r\n            return response.data.articles\r\n          } else {\r\n            console.log(response);\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n  }\r\n};","import {IArticle, INewsParams, newsApi} from '../../../../api/news-api'\r\nimport {DispatchType} from '../../../../lib/store/root-reducer'\r\n\r\n\r\n\r\n// ==========Action Creators======================\r\nexport const newsActions = {\r\n  setNews: (articles: Array<IArticle>) => ({type: \"NEWS/SET_NEWS\", articles} as const)\r\n}\r\n\r\n// =====================Thunk Creators====================\r\n\r\nexport const getNews = (params: INewsParams ) => (dispatch: DispatchType) => {\r\n  newsApi.getNews(params).then((articles) => {\r\n    if (articles) dispatch(newsActions.setNews(articles))\r\n  });\r\n};\r\n","export default __webpack_public_path__ + \"static/media/news.35bc210d.jpg\";","import React, {FC} from \"react\";\r\nimport classes from \"./Article.module.scss\"\r\nimport mockImg from \"../../assets/categories/news.jpg\"\r\nimport {IArticle} from '../../../../../api/news-api'\r\n\r\n\r\n\r\nexport const Article: FC<IArticle> =\r\n    ({title, urlToImage, description, content, author, url, source, publishedAt}) => {\r\n\r\n      return <article className={classes.news_article}\r\n          style={{backgroundImage: `url(${urlToImage || mockImg})`}}\r\n          key={url}>\r\n        <a href={url}>\r\n          <h3 className={classes.news_article_title}>{title}</h3>\r\n          <p\r\n              className={classes.news_article_description}>{description}</p>\r\n          <p className={classes.news_article_content}>{content}</p>\r\n        </a>\r\n        <p className={classes.news_article_author}>{author}</p>\r\n        <p\r\n            className={classes.news_article_src}>{source.name}</p>\r\n\r\n      </article>\r\n    };\r\n","import classes from \"../../News.module.scss\";\r\nimport React, {FC, ReactNode} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {RootState} from '../../../../lib/store/root-reducer'\r\nimport {Article} from '../moleculs/Article/Article'\r\nimport {Preloader} from '../../../../ui/atoms/preloader/Preloader'\r\n\r\n\r\nexport const Articles: FC = () => {\r\n\r\n\r\n  const articles = useSelector((state: RootState) => (\r\n      state.news.articles\r\n  ));\r\n\r\n  let articleElements: Array<ReactNode> | undefined | string = articles?.map((item,index) => {\r\n    return <Article key={index} {...item}/>\r\n  });\r\n\r\n  if (articleElements?.length === 0) {\r\n    articleElements = \"Sorry nothing found\";\r\n  }\r\n\r\n  return (\r\n      articles ?\r\n          <section\r\n              className={classes.news}>\r\n            {articleElements || <Preloader/>}\r\n          </section> :\r\n          <Preloader/>\r\n  )\r\n};","import styles from './Categories.module.scss'\r\nimport React, {FC} from 'react'\r\nimport {getNews} from '../../../modules/news/actions'\r\nimport {DispatchType} from '../../../../../lib/store/root-reducer'\r\n\r\n\r\n\r\ninterface ICategoriesProps {\r\n    dispatch: DispatchType\r\n}\r\n\r\nexport const Categories: FC<ICategoriesProps> = ({dispatch}) => {\r\n\r\n    const onCategoryChoose = (event: React.MouseEvent<HTMLElement>) => {\r\n        const target = event.target as HTMLDivElement\r\n        if (target.classList.contains(styles.categories_category)) {\r\n            const category = `&category=${target.dataset.cat}`\r\n            dispatch(getNews({\r\n                category\r\n            }))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section onClick={onCategoryChoose}\r\n                 className={styles.categories}>\r\n            <div data-cat=\"general\"\r\n                 className={styles.categories_category + ' ' +\r\n                 styles.all}>All\r\n            </div>\r\n            <div data-cat=\"business\"\r\n                 className={styles.categories_category + ' ' +\r\n                 styles.business}>Business\r\n            </div>\r\n            <div data-cat=\"entertainment\"\r\n                 className={styles.categories_category + ' ' +\r\n                 styles.entertaiment}>Entertainment\r\n            </div>\r\n            <div data-cat=\"science\"\r\n                 className={styles.categories_category + ' ' +\r\n                 styles.science}>Science\r\n            </div>\r\n            <div data-cat=\"sports\"\r\n                 className={styles.categories_category + ' ' +\r\n                 styles.sport}>Sports\r\n            </div>\r\n            <div data-cat=\"technology\"\r\n                 className={styles.categories_category + ' ' +\r\n                 styles.technology}>Technology\r\n            </div>\r\n        </section>\r\n    )\r\n}","import React, {FC, FormEvent} from 'react'\r\nimport classes from './Search.module.scss'\r\nimport {DispatchType} from '../../../../../lib/store/root-reducer'\r\nimport {getNews} from '../../../modules/news/actions'\r\n\r\n\r\n\r\ninterface ISearchProps {\r\n    dispatch: DispatchType\r\n}\r\n\r\nexport const Search: FC<ISearchProps> = ({dispatch}) => {\r\n\r\n    const onSearch = (event: FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault()\r\n        let query = event.target as HTMLFormElement\r\n        query = query.search_query.value\r\n        dispatch(getNews({\r\n            query: `q=${query}`,\r\n            category: '',\r\n            country: ''\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <section id={classes.cover}>\r\n            <form onSubmit={onSearch} autoComplete=\"off\">\r\n                <div className={classes.search_block}>\r\n                    <div className={classes.search_query}>\r\n                        <input className={classes.search_query}\r\n                               name=\"search_query\"\r\n                               placeholder=\"Search...\" type=\"text\"/>\r\n                    </div>\r\n                    <div className={classes.search_btn}\r\n                         id={classes['s-cover']}>\r\n                        <button type=\"submit\">\r\n                            <div id={classes['s-circle']}></div>\r\n                            <span></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </section>\r\n    )\r\n}\r\n","import React, {FC, useEffect} from 'react'\r\nimport classes from './News.module.scss'\r\nimport {useDispatch} from 'react-redux'\r\nimport {getNews} from './modules/news/actions'\r\nimport {Articles} from './ui/Organisms/Articles'\r\nimport {Categories} from './ui/moleculs/Categories/Categories'\r\nimport {Search} from './ui/moleculs/Search/Search'\r\n\r\n\r\nexport const News: FC = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getNews({}))\r\n  }, [dispatch]);\r\n\r\n  return <div className={classes.news_wrapper}>\r\n    <Search dispatch={dispatch}/>\r\n    <Categories dispatch={dispatch}/>\r\n    <Articles/>\r\n  </div>;\r\n};\r\n","import React, {FC} from \"react\";\r\nimport {CommonTemplate} from '../../ui/templates/Common'\r\nimport {News} from '../../features/news/News'\r\n\r\n\r\nexport const NewsPage:FC= () => {\r\n  return(\r\n    <CommonTemplate>\r\n      <News/>\r\n    </CommonTemplate>\r\n  )\r\n};","import {Redirect, Route, Switch} from \"react-router\";\r\nimport React, {lazy, Suspense} from \"react\";\r\nimport {DialogsPage, UsersPage, FriendsPage, SearchPage, LoginPage} from './pages'\r\nimport {Preloader} from './ui/atoms/preloader/Preloader'\r\nimport {MusicPage} from './pages/music'\r\nimport {NewsPage} from './pages/news'\r\n\r\n\r\nconst ProfilePage = lazy(() => import(\"./pages/profile\").then(({ProfilePage}) => (\r\n  {default: ProfilePage}\r\n)));\r\n\r\nexport const Routes = () => {\r\n\r\n  return <Suspense fallback={<Preloader/>}>\r\n    <Switch>\r\n      <Route path={'/profile/:userId?'}>\r\n        <ProfilePage/>\r\n      </Route>\r\n      <Route path=\"/news\">\r\n        <NewsPage/>\r\n      </Route>\r\n      <Route path=\"/music\">\r\n        <MusicPage/>\r\n      </Route>\r\n      <Route path=\"/dialogs\">\r\n        <DialogsPage/>\r\n      </Route>\r\n      <Route path=\"/users/\">\r\n        <UsersPage/>\r\n      </Route>\r\n      <Route path=\"/friends\">\r\n        <FriendsPage/>\r\n      </Route>\r\n      <Route path=\"/search/:term?\">\r\n        <SearchPage/>\r\n      </Route>\r\n      <Route path=\"/login\">\r\n        <LoginPage/>\r\n      </Route>\r\n      <Redirect exact from=\"/\" to=\"/profile/\"/>\r\n      <Route render={() => (\r\n        <div>404 NOT FOUND</div>\r\n      )}/>\r\n    </Switch>\r\n  </Suspense>\r\n};","import {getAuth} from '../authorization/actions'\r\n\r\n\r\n// ==========Action Creators======================\r\n\r\n\r\n\r\nexport const initActions = {\r\n    initializedSuccess: () => ({type: 'SN/APP/INITIALIZED_SUCCESS'} as const)\r\n}\r\n\r\n// =====================Thunk Creators====================\r\n\r\n\r\nexport const initializeApp = () => (dispatch: any) => {\r\n    return dispatch(getAuth(true)).then(() => {\r\n        dispatch(initActions.initializedSuccess())\r\n    });\r\n};\r\n","import React, {Component} from 'react'\r\nimport './App.module.scss'\r\nimport {HashRouter} from 'react-router-dom'\r\nimport {connect, ConnectedProps} from 'react-redux'\r\nimport {Routes} from './Routes'\r\nimport {DispatchType, RootState} from './lib/store/root-reducer'\r\nimport {initializeApp} from './features/authentication/modules/initialization/actions'\r\nimport {Preloader} from './ui/atoms/preloader/Preloader'\r\n\r\n\r\n\r\n// ===================================\r\nconst MapStateToProps = (state: RootState) => (\r\n    {\r\n        initialized: state.init.initialized\r\n    })\r\n\r\nconst mapDispatchToProps = (dispatch: DispatchType) => {\r\n    return {\r\n        initializeApp: () => dispatch(initializeApp()),\r\n    }\r\n}\r\nconst connector = connect(MapStateToProps, mapDispatchToProps)\r\ntype AppProps = ConnectedProps<typeof connector>\r\n\r\n\r\nclass App extends Component<AppProps> {\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) return <Preloader/>\r\n        return (\r\n            <HashRouter>\r\n                <Routes/>\r\n            </HashRouter>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default connector(App)","import {BaseThunkType, InferActionsTypes} from '../../../../lib/store/root-reducer'\r\nimport {actions} from './actions'\r\nimport {ProfileType} from '../../../../api/social-api'\r\n\r\n\r\nexport type InitialStateType = {\r\n    user: ProfileType,\r\n    isAuth: boolean,\r\n    captchaUrl: string | null\r\n}\r\n\r\n\r\nexport type ActionsTypes = InferActionsTypes<typeof actions>\r\nexport type ThunkType = BaseThunkType<ActionsTypes>\r\n\r\n\r\nexport let initialState: InitialStateType = {\r\n    user: {\r\n        aboutMe: null,\r\n        contacts: null,\r\n        lookingForAJob: null,\r\n        lookingForAJobDescription: null,\r\n        fullName: null,\r\n        userId: null,\r\n        photos: null,\r\n    },\r\n    isAuth: false,\r\n    captchaUrl: null\r\n}\r\n\r\nexport const authReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/auth/SET_USER_DATA':\r\n            return {\r\n                ...state,\r\n                user: {\r\n                    ...action.user,\r\n                },\r\n                isAuth: action.isAuth\r\n            }\r\n        case 'SN/auth/GET_CAPTCHA_URL_SUCCESS':\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.captchaUrl\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}","import {InferActionsTypes} from '../../../../lib/store/root-reducer'\r\nimport {initActions} from './actions'\r\n\r\n\r\nexport type InitialStateType = typeof initialState\r\nexport type ActionsType = InferActionsTypes<typeof initActions>\r\n\r\n\r\nexport let initialState = {\r\n    initialized: false\r\n}\r\n\r\n\r\nexport const initReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/APP/INITIALIZED_SUCCESS':\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import {BaseThunkType, InferActionsTypes} from '../../../../lib/store/root-reducer'\r\nimport {profileActions} from './actions'\r\nimport {ProfileType} from '../../../../api/social-api'\r\n\r\n\r\nexport type ActionsTypes = InferActionsTypes<typeof profileActions>\r\nexport type ThunkType = BaseThunkType<ActionsTypes>\r\n\r\ntype ProfileState = {\r\n    isFollowing: boolean,\r\n    followed: boolean,\r\n    profile: null  | ProfileType,\r\n    status: string\r\n}\r\n\r\nexport const initialState: ProfileState = {\r\n    isFollowing: false,\r\n    followed:false,\r\n    profile: null,\r\n    status: \"Ð¡ÑÐ°ÑÑÑ Ð ÐµÐ´Ð°ÐºÑÐ°\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action: ActionsTypes): ProfileState => {\r\n    switch (action.type) {\r\n        case 'SN/PROFILE/SET_USERS_PROFILE': {\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            }\r\n        }\r\n        case 'SN/PROFILE/SET_STATUS': {\r\n            return {\r\n                ...state,\r\n                status: action.status,\r\n            }\r\n        }\r\n        case 'SN/PROFILE/SAVE_PHOTO_SUCCESS': {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos} as ProfileType,\r\n            }\r\n        }\r\n        case 'SN/PROFILE/TOGGLE_IS_FOLLOWING': {\r\n            return {\r\n                ...state,\r\n                isFollowing: action.isFollowing\r\n            }\r\n        }\r\n        case 'SN/PROFILE/IS_FOLLOWED': {\r\n            return {\r\n                ...state,\r\n                followed: action.isFollowed\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default profileReducer","import {UserType} from '../api/social-api'\r\n\r\n\r\nexport const updateObjectInArray = (items: Array<UserType>,\r\n  itemId:number,  newItemObjProps: {followed: boolean}):  Array<UserType> => {\r\n  return items.map((item) => {\r\n    if (item.id === itemId) {\r\n      return {\r\n        ...item, ...newItemObjProps\r\n      };\r\n    } else {\r\n      return item;\r\n    }\r\n  })\r\n};","import {BaseThunkType, InferActionsTypes} from '../../../../lib/store/root-reducer'\r\nimport {UserType} from '../../../../api/social-api'\r\nimport {usersActions} from './actions'\r\nimport {updateObjectInArray} from '../../../../utils/obj-helpers'\r\n\r\n\r\nexport type InitialStateType = typeof initialState\r\nexport type ActionsTypes = InferActionsTypes<typeof usersActions>\r\nexport type ThunkType = BaseThunkType<ActionsTypes>\r\n\r\n\r\n\r\n\r\nexport let initialState = {\r\n    users: [] as Array<UserType>,\r\n    friends: [] as Array<UserType>,\r\n    pageSize: 20,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] as Array<number>, // array of users ids\r\n}\r\n\r\n\r\nconst usersReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'SN/USERS/FOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users,\r\n                    action.userId,\r\n                    {followed: true})\r\n            };\r\n        case 'SN/USERS/UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users,\r\n                    action.userId,\r\n                    {followed: false})\r\n            };\r\n        case 'SN/USERS/SET_USERS':\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            };\r\n        case 'SN/USERS/SET_FRIENDS':\r\n            return {\r\n                ...state,\r\n                friends: [...action.friends]\r\n            };\r\n        case 'SN/USERS/SET_CURRENT_PAGE':\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            };\r\n        case 'SN/USERS/SET_TOTAL_USERS_COUNT':\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            };\r\n        case 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS':\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching ?\r\n                    [...state.followingInProgress, action.userId] :\r\n                    state.followingInProgress.filter((userId) => action.userId !== userId),\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default usersReducer\r\n","import {IMusicCategory, IMusicResponse, ITracks} from '../../../../api/music-api'\r\nimport {InferActionsTypes} from '../../../../lib/store/root-reducer'\r\nimport {musicActions} from './actions'\r\n\r\n\r\nexport type ActionsTypes = InferActionsTypes<typeof musicActions>\r\n\r\ntype MusicStateType = {\r\n  charts: null | IMusicResponse,\r\n  searchResults : null | IMusicCategory<ITracks>\r\n}\r\n\r\nexport const initialState: MusicStateType = {\r\n  charts: null,\r\n  searchResults: null\r\n};\r\n\r\nexport const musicReducer = (state = initialState,\r\n                        action: ActionsTypes): MusicStateType => {\r\n  switch (action.type) {\r\n    case 'MUSIC/SET_MUSIC_CHARTS':\r\n      return {\r\n        ...state,\r\n        charts: action.charts\r\n      };\r\n    case 'MUSIC/SET_SEARCH_RESULTS':\r\n      return {\r\n        ...state,\r\n        searchResults: action.searchResults\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {IArticle} from '../../../../api/news-api'\r\nimport {InferActionsTypes} from '../../../../lib/store/root-reducer'\r\nimport {newsActions} from './actions'\r\n\r\n\r\nexport type ActionsTypes = InferActionsTypes<typeof newsActions>\r\n\r\n\r\ntype NewsStateType = {\r\n    articles: Array<IArticle> | null\r\n}\r\n\r\n\r\nexport const initialState: NewsStateType = {\r\n    articles: null\r\n}\r\n\r\nexport const newsReducer = (state = initialState,\r\n                        action: ActionsTypes): NewsStateType => {\r\n    switch (action.type) {\r\n        case 'NEWS/SET_NEWS':\r\n            return {\r\n                ...state,\r\n                articles: action.articles\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import {Action, AnyAction, combineReducers} from 'redux'\r\nimport {ThunkAction, ThunkDispatch} from 'redux-thunk'\r\nimport {authReducer} from '../../features/authentication/modules/authorization/reducer'\r\nimport {initReducer} from '../../features/authentication/modules/initialization/reducer'\r\nimport profileReducer from '../../features/profile/modules/profile/reducer'\r\nimport usersReducer from '../../features/users/modules/users/reducer'\r\nimport {musicReducer} from '../../features/music/modules/music/reducer'\r\nimport {newsReducer} from '../../features/news/modules/news/reducer'\r\n\r\n\r\nexport const rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    init: initReducer,\r\n    news: newsReducer,\r\n    music: musicReducer\r\n})\r\n\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n\r\nexport type InferActionsTypes<T> = T extends { [key: string]: (...args: any[]) => infer U } ? U : never\r\n\r\n\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, RootState, unknown, A>\r\n\r\nexport type DispatchType = ThunkDispatch<RootState, void, AnyAction>;","import {applyMiddleware, compose, createStore} from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {rootReducer} from './root-reducer'\r\n\r\n\r\nexport const composeEnhancers = (window && (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose\r\n//Redux dev tools for Chrome\r\n\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)))","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport {Provider} from 'react-redux'\r\nimport {store} from './lib/store/store'\r\n\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n)\r\n\r\n"],"sourceRoot":""}